@{
    Layout = null;
    int campusSum = 0;
    int branchesSum = 0;
    int institutesSum = 0;
}
<html>
<head>
    <title>Application View - TFCL Portal</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    @*<link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">*@

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js">

    </script>

    <style>
        .title {
            font-weight: bold;
            font-size: 12px;
            text-transform: uppercase;
        }

        .text {
            /*font-weight: bold;*/
            font-size: 12px;
            text-transform: uppercase;
        }

        .tbl {
            margin-top: 20px;
        }

        td {
            padding: 3px;
        }

        .bg-gray {
            background-color: lightgray
        }

        .ScreenTitle {
            font-size: 16px;
        }

        .signArea {
            margin: 50px 0px;
            border-top: 1px solid;
        }

        footer {
            font-size: 9px;
            color: #f00;
            text-align: center;
        }

        @@page {
            size: A4;
            margin: 11mm 17mm 50mm 17mm;
        }

        @@media print {
            footer {
                position: fixed;
                bottom: 0;
            }

            .content-block, p {
                page-break-inside: avoid;
            }

            table tr {
                page-break-inside: avoid;
            }

            html, body {
                width: 210mm;
                height: 264mm;
            }
        }

        table {
            page-break-inside: auto
        }

        tr {
            page-break-inside: avoid;
            page-break-after: auto
        }

        thead {
            display: table-header-group
        }
    </style>

</head>
<body>
    <div class="container content-block" id="printablediv">
        @*<a class="btn btn-primary" onclick="Print()">Click to Print</a>*@

        <table style="margin-bottom:30px">
            <tr>
                <td width="16.667%"><img id="Imglogo" src="~/images/TFCLNoBg.png" width="100px"></td>
                <td style="padding-top: 30px;text-transform: uppercase;">
                    <h3 style="font-weight:bold">@(ViewBag.Application.ProductTypeName == null || ViewBag.Application.ProductTypeName == "" ? "--" : "Loan Application Form ( "+ViewBag.Application.ProductTypeName + " )")</h3>
                </td>
            </tr>
        </table>
        <table border="1" width="100%" style="padding-top:30px">
            <tr>
                <td class="title" width="30%">Applicant Name</td>
                <td colspan="3" width="50%" class="title">@(ViewBag.Application.ClientName == null || ViewBag.Application.ClientName=="" ? "--" : ViewBag.Application.ClientName)</td>
                <td rowspan="7" class="text-right" style="border-top:1px solid white;border-right:1px solid white;border-bottom:1px solid white;padding: 0px;"><img src="@ViewBag.ApplicantPicUrl" height="200px" style="border:2px solid" /></td>
            </tr>
            <tr>
                <td class="title">
                    Business Name
                </td>
                <td colspan="3" class="title">@(ViewBag.Application.SchoolName == null || ViewBag.Application.SchoolName == "" ? "--" : ViewBag.Application.SchoolName)</td>
            </tr>
            <tr>
                <td class="title">
                    Client Id
                </td>
                <td class="title">@(ViewBag.Application.ClientID == null || ViewBag.Application.ClientID == "" ? "--" : ViewBag.Application.ClientID)</td>
            </tr>
            <tr>
                <td class="title">
                    Branch Code
                </td>
                <td class="title">
                    @(ViewBag.LRD.BranchCode == null ? "--" : ViewBag.LRD.BranchCode)
                </td>
            </tr>
            <tr>
                <td class="title">
                    SDE Name
                </td>
                <td class="title">
                    @(ViewBag.SDEName == null ? "--" : ViewBag.SDEName)
                </td>
            </tr>
            <tr>
                <td class="title">
                    Application Date
                </td>
                <td class="title">
                    @(ViewBag.appDate == null ? "--" : ViewBag.appDate)
                </td>

            </tr>

            <tr>
                <td class="title">
                    Application Print Date
                </td>
                <td class="title">
                    @DateTime.Now.ToString("dd MMM yyyy")
                </td>

            </tr>
        </table>
        @*<div class="col-md-3 text-right">

        </tr>*@

        @if (ViewBag.LRD != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="6">Loan Requisition Details</th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <td class="text" colspan="4">I am applying for the loan as per details given below:</td>
                    </tr>
                    <tr>
                        <td class="title">
                            PURPOSE OF LOAN
                        </td>
                        <td class="text" colspan="3">@(ViewBag.LRD.LoanpurposeName == null || ViewBag.LRD.LoanpurposeName == "" ? "--" : ViewBag.LRD.LoanpurposeName)</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Loan Purpose Details
                        </td>
                        <td class="text" colspan="3">@(ViewBag.LRD.PurposeOfLoanUtilization == null || ViewBag.LRD.PurposeOfLoanUtilization == "" ? "--" : ViewBag.LRD.PurposeOfLoanUtilization)</td>
                    </tr>
                    @*<tr>
                        <td class="title" width="30%">
                            Loan Purpose Classification
                        </td>
                        <td class="text" width="25%">@(ViewBag.LRD.LoanPurposeClassificationName == null || ViewBag.LRD.LoanPurposeClassificationName == "" ? "--" : ViewBag.LRD.LoanPurposeClassificationName)</td>

                        <td class="title" width="25%">
                            Others
                        </td>
                        <td class="text" width="20%">@(ViewBag.LRD.LoanPurposeClassificationOthers == null || ViewBag.LRD.LoanPurposeClassificationOthers == "" ? "--" : ViewBag.LRD.LoanPurposeClassificationOthers)</td>
                    </tr>*@
                    <tr>
                        <td class="title" width="30%">
                            Amount for Capital Expenditure (Rs)
                        </td>
                        <td class="text" width="25%">@(ViewBag.LRD.AmountCapitalExpenditure == null || ViewBag.LRD.AmountCapitalExpenditure == "" ? "--" : Convert.ToDecimal(ViewBag.LRD.AmountCapitalExpenditure).ToString("#,##0"))</td>

                        <td class="title" width="25%">
                            Amount for Working Capital (Rs)
                        </td>
                        <td class="text" width="20%">@(ViewBag.LRD.AmountWorkingCapital == null || ViewBag.LRD.AmountWorkingCapital == "" ? "--" : Convert.ToDecimal(ViewBag.LRD.AmountWorkingCapital).ToString("#,##0"))</td>

                    </tr>
                    <tr>
                        <td class="title">
                            Total Investment Required(Rs)
                        </td>
                        <td class="text">@(ViewBag.LRD.TotalInvestmentRequired == null || ViewBag.LRD.TotalInvestmentRequired == "" ? "--" : Convert.ToDecimal(ViewBag.LRD.TotalInvestmentRequired).ToString("#,##0"))</td>

                        <td class="title">
                            Loan Amount Required (Rs)
                        </td>
                        <td class="text">@(ViewBag.LRD.RequiredLoanAmount == null || ViewBag.LRD.RequiredLoanAmount == "" ? "--" : Convert.ToDecimal(ViewBag.LRD.RequiredLoanAmount).ToString("#,##0"))</td>


                    </tr>
                    <tr>
                        <td class="title">
                            Security
                        </td>
                        <td class="text">@(ViewBag.LRD.CollateralGiven == null || ViewBag.LRD.CollateralGiven == "" ? "--" :  ViewBag.LRD.CollateralGiven)</td>

                        <td class="title">
                            Loan Amount Recommended (Rs)
                        </td>
                        <td class="text">@(ViewBag.LRD.LoanAmountRecommended == null || ViewBag.LRD.LoanAmountRecommended == "" ? "--" : Convert.ToDecimal(ViewBag.LRD.LoanAmountRecommended).ToString("#,##0"))</td>

                    </tr>
                    <tr>
                        <td class="title">
                            Loan Tenure Recommended (Months)
                        </td>
                        <td class="text">@(ViewBag.LRD.LoanTenureRequestedName == null || ViewBag.LRD.LoanTenureRequestedName == "" ? "--" :  ViewBag.LRD.LoanTenureRequestedName)</td>

                        <td class="title">
                            PAYMENT FREQUENCY
                        </td>
                        <td class="text">@(ViewBag.LRD.PaymentName == null || ViewBag.LRD.PaymentName == "" ? "--" :  ViewBag.LRD.PaymentName)</td>

                    </tr>

                </tbody>
            </table>

        }
        @if (ViewBag.PD != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="6">Personal Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="title" width="30%">APPLICANT NAME</td>
                        <td class="text" width="25%">@(ViewBag.PD.ApplicantName == null || ViewBag.PD.ApplicantName == "" ? "--" : ViewBag.PD.ApplicantName)</td>

                        <td class="title" width="25%">S/O D/O W/O</td>
                        <td class="text" width="20%">@(ViewBag.PD.ParentName == null || ViewBag.PD.ParentName == "" ? "--" : ViewBag.PD.ParentName)</td>
                    </tr>
                    <tr>

                        <td class="title">CNIC Number</td>
                        <td class="text">@(ViewBag.PD.CNIC == null || ViewBag.PD.CNIC == "" ? "--" : ViewBag.PD.CNIC)</td>

                        <td class="title">CNIC Expiry Date</td>
                        <td class="text">@(ViewBag.PD.CNICExpiry == null  ? "--" : string.Format("{0:dd MMM yyyy}", ViewBag.PD.CNICExpiry))</td>


                    </tr>
                    <tr>
                        <td class="title">DATE OF BIRTH</td>
                        <td class="text">@(ViewBag.PD.BirthDate == null   ? "--" : string.Format("{0:dd MMM yyyy}", ViewBag.PD.BirthDate))</td>

                        @*<td class="title">Age Approval Taken</td>
                        @if (ViewBag.PD.AgeApprovalTaken == null)
                        {
                            <td class="text">--</td>
                        }
                        else if (ViewBag.PD.AgeApprovalTaken == false)
                        {
                            <td class="text">No</td>
                        }
                        else if (ViewBag.PD.AgeApprovalTaken == true)
                        {
                            <td class="text">Yes</td>
                        }*@
                        <td class="title">GENDER</td>
                        <td class="text">@(ViewBag.PD.GenderName == null || ViewBag.PD.GenderName == "" ? "--" : ViewBag.PD.GenderName)</td>

                    </tr>
                    <tr>

                        <td class="title">MARITAL STATUS</td>
                        <td class="text">@(ViewBag.PD.MaritalStatusName == null || ViewBag.PD.MaritalStatusName == "" ? "--" : ViewBag.PD.MaritalStatusName)</td>
                        <td class="title">Spouse Status</td>
                        <td class="text">@(ViewBag.PD.SpouseStatusName == null || ViewBag.PD.SpouseStatusName == "" ? "--" : ViewBag.PD.SpouseStatusName)</td>

                    </tr>
                    <tr>
                        <td class="title">DEPENDENTS</td>
                        @if (ViewBag.PD.NumberOfDependents == 0 || ViewBag.PD.NumberOfDependents == 1 || ViewBag.PD.NumberOfDependents == 42)
                        {
                            <td class="text">--</td>
                        }
                        else
                        {
                            <td class="text">@(ViewBag.PD.NumberOfDependents - 1)</td>
                        }

                        <td class="title">School Going Dependents</td>
                        @if (ViewBag.PD.SchoolGoingDependants == null || ViewBag.PD.SchoolGoingDependants == 0 || ViewBag.PD.SchoolGoingDependants == 42)
                        {
                            <td class="text">--</td>
                        }
                        else
                        {
                            <td class="text">
                                @(ViewBag.PD.SchoolGoingDependants - 1)
                            </td>
                        }

                    </tr>
                    <tr>


                        <td class="title">Qualification</td>
                        <td class="text">@(ViewBag.PD.QualificationName == null || ViewBag.PD.QualificationName == "" ? "--" : ViewBag.PD.QualificationName)</td>
                        <td class="title">Specialization</td>
                        <td class="text">@(ViewBag.PD.Specialization == null || ViewBag.PD.Specialization == "" ? "--" : ViewBag.PD.Specialization)</td>

                    </tr>
                    <tr>

                        <td class="title">Nationality</td>
                        <td class="text">@(ViewBag.PD.Nationality == null || ViewBag.PD.Nationality == "" ? "--" : ViewBag.PD.Nationality)</td>
                        <td class="title">Other Nationality</td>
                        <td class="text">@(ViewBag.PD.OtherNationality == null || ViewBag.PD.OtherNationality == "" ? "--" : ViewBag.PD.OtherNationality)</td>

                    </tr>
                    <tr>

                        <td class="title">Mother's Maiden Name</td>
                        <td class="text">@(ViewBag.PD.MotherMaidenName == null || ViewBag.PD.MotherMaidenName == "" ? "--" : ViewBag.PD.MotherMaidenName)</td>
                        <td class="title">Personal NTN Number</td>
                        <td class="text">@(ViewBag.PD.PersonalNTN == null || ViewBag.PD.PersonalNTN == "" ? "--" : ViewBag.PD.PersonalNTN)</td>


                    </tr>
                    <tr>

                        <td class="title">Active Tax Payer</td>
                        @if (ViewBag.PD.isActiveTaxPayer == null)
                        {
                            <td class="text">--</td>
                        }
                        else if (ViewBag.PD.isActiveTaxPayer == false)
                        {
                            <td class="text">No</td>
                        }
                        else if (ViewBag.PD.isActiveTaxPayer == true)
                        {
                            <td class="text">Yes</td>
                        }

                        <td class="title">Sales Tax Number</td>
                        <td class="text" colspan="5">@(ViewBag.PD.SalesTaxNumber == null || ViewBag.PD.SalesTaxNumber == "" ? "--" : ViewBag.PD.SalesTaxNumber)</td>

                    </tr>
                </tbody>
            </table>

        }
        @if (ViewBag.DED != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Dependent's Education Details</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.DED.dependentEducationDetailChild != null)
                    {
                        foreach (var item in ViewBag.DED.dependentEducationDetailChild)
                        {
                            <tr>
                                <td class="title" width="30%">Dependent Name</td>
                                <td class="text" width="25%">@(item.Name == null || item.Name == "" ? "--" : item.Name)</td>
                                <td class="title" width="25%">Age (Years)</td>
                                <td class="text" width="20%">@(item.Age == null || item.Age == "" ? "--" : item.Age)</td>
                            </tr>
                            <tr>
                                <td class="title">Gender</td>
                                <td class="text">@(item.GenderName == null || item.GenderName == "" ? "--" : item.GenderName)</td>
                                <td class="title">Class</td>
                                <td class="text">@(item.dependentClass == null || item.dependentClass == "" ? "--" : item.dependentClass)</td>
                            </tr>
                            <tr>
                                <td class="title">EI Name</td>
                                <td class="text">@(item.EiName == null || item.EiName == "" ? "--" : item.EiName)</td>
                                <td class="title">  Monthly Fee (Rs)</td>
                                <td class="text">@(item.MonthlyFee == null ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MonthlyFee).Replace(",",""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Fee Payment Frequency</td>
                                <td class="text">@(item.PaymentFrequencyName == null || item.PaymentFrequencyName == "" ? "--" : item.PaymentFrequencyName)</td>
                                <td class="title"></td>
                                <td class="text"></td>
                            </tr>
                            <tr>
                                <td class="title text-left bg-gray" colspan="4"></td>
                            </tr>
                        }

                        <tr>
                            <td class="title" width="30%">Total Monthly Fee (Rs)</td>
                            <td class="text" width="25%">@(ViewBag.DED.TotalMonthlyFee == null || ViewBag.DED.TotalMonthlyFee == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.DED.TotalMonthlyFee).Replace(",",""))))</td>
                            <td></td>
                            <td></td>
                        </tr>
                    }
                </tbody>
            </table>

        }
        @if (ViewBag.CD != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Contact Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4">PRESENT ADDRESS</td>
                    </tr>

                    <tr>
                        <td class="title">ADDRESS</td>
                        <td class="text" colspan="3">@(ViewBag.CD.PresentAddress == null || ViewBag.CD.PresentAddress == "" ? "--" : ViewBag.CD.PresentAddress)</td>

                    </tr>
                    <tr>

                        <td class="title">UC</td>
                        <td class="text">@(ViewBag.CD.PresentUCNo == null || ViewBag.CD.PresentUCNo == "" ? "--" : ViewBag.CD.PresentUCNo)</td>

                        <td class="title">MOUZA / TOWN</td>
                        <td class="text">@(ViewBag.CD.PresentMouzaTown == null || ViewBag.CD.PresentMouzaTown == "" ? "--" : ViewBag.CD.PresentMouzaTown)</td>



                    </tr>
                    <tr>
                        <td class="title">TEHSIL</td>
                        <td class="text">@(ViewBag.CD.PresentTehsil == null || ViewBag.CD.PresentTehsil == "" ? "--" : ViewBag.CD.PresentTehsil)</td>

                        <td class="title">DISTRICT</td>
                        <td class="text">@(ViewBag.CD.PresentDistrictName == null || ViewBag.CD.PresentDistrictName == "" ? "--" : ViewBag.CD.PresentDistrictName)</td>

                    </tr>
                    <tr>

                        <td class="title" width="30%">PROVINCE</td>
                        <td class="text" width="25%">@(ViewBag.CD.PresentProvinceName == null || ViewBag.CD.PresentProvinceName == "" ? "--" : ViewBag.CD.PresentProvinceName)</td>

                        <td class="title" width="25%">NEAREST LANDMARK</td>
                        <td class="text" width="20%">@(ViewBag.CD.PresentNearestLandMark == null || ViewBag.CD.PresentNearestLandMark == "" ? "--" : ViewBag.CD.PresentNearestLandMark)</td>
                    </tr>
                    <tr>
                        <td class="title">Residence PLACE STATUS</td>
                        <td class="text">@(ViewBag.CD.OwnershipStatusName == null || ViewBag.CD.OwnershipStatusName == "" ? "--" : ViewBag.CD.OwnershipStatusName)</td>

                        <td class="title">Rent Agreement Signatory</td>
                        <td class="text">@(ViewBag.CD.RentAgreementSignatoryName == null || ViewBag.CD.RentAgreementSignatoryName == "" ? "--" : ViewBag.CD.RentAgreementSignatoryName)</td>
                    </tr>
                    <tr>
                        <td class="title">Others</td>
                        <td class="text">@(ViewBag.CD.RentAgreementSignatoryOthers == null || ViewBag.CD.RentAgreementSignatoryOthers == "" ? "--" : ViewBag.CD.RentAgreementSignatoryOthers)</td>

                        <td class="title">Monthly Rent (Rs)</td>
                        <td class="text">@(ViewBag.CD.RentAmount == null || ViewBag.CD.RentAmount == "0" || ViewBag.CD.RentAmount == "" ? "--" : Convert.ToDecimal(ViewBag.CD.RentAmount).ToString("#,##0"))</td>



                    </tr>
                    <tr>
                        <td class="title">Monthly Share (Rs)</td>
                        <td class="text">@(ViewBag.CD.MonthlyShare == null || ViewBag.CD.MonthlyShare == 0  ? "--" : Convert.ToDecimal(ViewBag.CD.MonthlyShare).ToString("#,##0"))</td>

                        <td class="title">Rent Agreement Expiry Date</td>
                        <td class="text">@(ViewBag.CD.RentAgreementExpiryDate == null ? "--" : string.Format("{0:dd MMM yyyy}", ViewBag.CD.RentAgreementExpiryDate))</td>

                    </tr>
                    <tr>

                        <td class="title">CURRENT ADDRESS SINCE</td>
                        <td class="text" colspan="3">@(ViewBag.CD.CurrentAddressSince == null ? "--" : string.Format("{0:dd MMM yyyy}", ViewBag.CD.CurrentAddressSince))</td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4">Permanent ADDRESS</td>
                    </tr>

                    <tr>
                        <td class="title">ADDRESS</td>
                        <td class="text" colspan="3">@(ViewBag.CD.permanentAddress == null || ViewBag.CD.permanentAddress == "" ? "--" : ViewBag.CD.permanentAddress)</td>
                    </tr>
                    <tr>

                        <td class="title">UC</td>
                        <td class="text">@(ViewBag.CD.permanentUCNo == null || ViewBag.CD.permanentUCNo == "" ? "--" : ViewBag.CD.permanentUCNo)</td>

                        <td class="title">MOUZA / TOWN</td>
                        <td class="text">@(ViewBag.CD.permanentMouzaTown == null || ViewBag.CD.permanentMouzaTown == "" ? "--" : ViewBag.CD.permanentMouzaTown)</td>

                    </tr>
                    <tr>

                        <td class="title">TEHSIL</td>
                        <td class="text">@(ViewBag.CD.permanentTehsil == null || ViewBag.CD.permanentTehsil == "" ? "--" : ViewBag.CD.permanentTehsil)</td>

                        <td class="title">DISTRICT</td>
                        <td class="text">@(ViewBag.CD.PermanentDistrictName == null || ViewBag.CD.PermanentDistrictName == "" ? "--" : ViewBag.CD.PermanentDistrictName)</td>

                    </tr>
                    <tr>
                        <td class="title">PROVINCE</td>
                        <td class="text">@(ViewBag.CD.PermanentProvinceName == null || ViewBag.CD.PermanentProvinceName == "" ? "--" : ViewBag.CD.PermanentProvinceName)</td>

                        <td class="title">NEAREST LANDMARK</td>
                        <td class="text" colspan="5">@(ViewBag.CD.permanentNearestLandMark == null || ViewBag.CD.permanentNearestLandMark == "" ? "--" : ViewBag.CD.permanentNearestLandMark)</td>

                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>

                    <tr>
                        <td class="title">Mobile #</td>
                        <td class="text">@(ViewBag.CD.MobileNo == null || ViewBag.CD.MobileNo == "" ? "--" : ViewBag.CD.MobileNo)</td>

                        <td class="title">LANDLINE #</td>
                        <td class="text">@(ViewBag.CD.LandlineNo == null || ViewBag.CD.LandlineNo == "" ? "--" : ViewBag.CD.LandlineNo)</td>


                    </tr>
                    <tr>
                        <td class="title">Fax #</td>
                        <td class="text">@(ViewBag.CD.FaxNo == null || ViewBag.CD.FaxNo == "" ? "--" : ViewBag.CD.FaxNo)</td>


                        <td class="title">ALTERNATE MOBILE # (Self)</td>
                        <td class="text">@(ViewBag.CD.AlternateMobileNoSelf == null || ViewBag.CD.AlternateMobileNoSelf == "" ? "--" : ViewBag.CD.AlternateMobileNoSelf)</td>
                    </tr>
                    <tr>

                        <td class="title">ALTERNATE MOBILE # (Family)</td>
                        <td class="text">@(ViewBag.CD.AlternateMobileNo == null || ViewBag.CD.AlternateMobileNo == "" ? "--" : ViewBag.CD.AlternateMobileNo)</td>

                        <td class="title">Relationship with Applicant</td>
                        <td class="text">@(ViewBag.CD.AlternateMobileNoName == null || ViewBag.CD.AlternateMobileNoName == "" ? "--" : ViewBag.CD.AlternateMobileNoName)</td>

                    </tr>
                </tbody>
            </table>

        }
        @if (ViewBag.BD != null)
        {



            <table border="1" width="100%" class="tbl">
                <tr>
                    <td class="title text-center bg-gray ScreenTitle" colspan="4">Business Details</td>
                </tr>

                @if (ViewBag.BD.businessDetailTds != null)
                {
                    foreach (var item in ViewBag.BD.businessDetailTds)
                    {
                        <tr>
                            <td class="title text-left bg-gray" colspan="4">@item.BusinessName</td>
                        </tr>
                        <tr>
                            <td class="title" width="30%">Business Type</td>
                            <td class="text" width="25%">@(item.BusinessType == null || item.BusinessType == "" ? "--" : item.BusinessType)</td>
                            <td class="title" width="25%">Others</td>
                            <td class="text" width="20%">@(item.BusinessTypeOthers == null || item.BusinessTypeOthers == "" ? "--" : item.BusinessTypeOthers)</td>
                        </tr>
                        <tr>
                            <td class="title">Address</td>
                            <td class="text" colspan="3">@(item.BusinessAddress == null || item.BusinessAddress == "" ? "--" : item.BusinessAddress)</td>
                        </tr>
                        <tr>
                            <td class="title">Mouza/Town</td>
                            <td class="text">@(item.MouzaTown == null || item.MouzaTown == "" ? "--" : item.MouzaTown)</td>
                            <td class="title">Union Council</td>
                            <td class="text">@(item.UnionCouncil == null || item.UnionCouncil == "" ? "--" : item.UnionCouncil)</td>
                        </tr>
                        <tr>
                            <td class="title">Tehsil</td>
                            <td class="text">@(item.Tehsil == null || item.Tehsil == "" ? "--" : item.Tehsil)</td>
                            <td class="title">District</td>
                            <td class="text">@(item.District == null || item.District == "" ? "--" : item.District)</td>
                        </tr>
                        <tr>
                            <td class="title">Province</td>
                            <td class="text">@(item.Province == null || item.Province == "" ? "--" : item.Province)</td>
                            <td class="title">Nearest Landmark</td>
                            <td class="text">@(item.NearestLandMark == null || item.NearestLandMark == "" ? "--" : item.NearestLandMark)</td>
                        </tr>
                        <tr>
                            <td class="title">Legal Status</td>
                            <td class="text">@(item.LegalStatusName == null || item.LegalStatusName == "" ? "--" : item.LegalStatusName)</td>
                            <td class="title">Others</td>
                            <td class="text">@(item.LegalStatusOthers == null || item.LegalStatusOthers == "" ? "--" : item.LegalStatusOthers)</td>
                        </tr>
                        <tr>
                            <td class="title">No of Partner(s) / Investor(s) / Director(s)</td>
                            <td class="text">@(item.NoOfPartnersInvestorsDirectors == 0 ? "--" : item.NoOfPartnersInvestorsDirectors)</td>
                            <td class="title">Name of Partner(S) </td>
                            <td class="text">@(item.NameOfPartnerInvestorDirector == null || item.NameOfPartnerInvestorDirector == "" ? "--" : item.NameOfPartnerInvestorDirector)</td>
                        </tr>
                        <tr>
                            <td class="title">%age of Profit Share (Applicant)</td>
                            <td class="text">@(item.PercentageOfProfitSharedApplicant == "" ? "--" : (Convert.ToDecimal(item.PercentageOfProfitSharedApplicant)).ToString() + " %")</td>
                            <td class="title">Business Profit Considered (%)</td>
                            <td class="text">@(item.PercentageOfProfitConsidered == null || item.PercentageOfProfitConsidered == "" ? "--" : item.PercentageOfProfitConsidered + " %")</td>
                        </tr>
                        <tr>
                            <td class="title">Business Nature</td>
                            <td class="text">@(item.BusinessNature == null || item.BusinessNature == "" ? "--" : item.BusinessNature)</td>
                            <td class="title">Others</td>
                            <td class="text">@(item.NatureOfBusinessOthers == null || item.NatureOfBusinessOthers == "" ? "--" : item.NatureOfBusinessOthers)</td>
                        </tr>
                        <tr>
                            <td class="title">Established Since</td>
                            <td class="text">@(item.EstablishedSince == null ? "--" : string.Format("{0:dd MMM yyyy}", item.EstablishedSince))</td>
                            <td class="title">Business Age</td>
                            <td class="text">@(item.CalculatedBusinessAge == null || item.CalculatedBusinessAge == "" ? "--" : item.CalculatedBusinessAge)</td>
                        </tr>
                        <tr>
                            <td class="title">Business Place Status</td>
                            <td class="text">@(item.OwnershipStatusName == null || item.OwnershipStatusName == "" ? "--" : item.OwnershipStatusName)</td>
                            <td class="title">Rent Agreement Signatory</td>
                            <td class="text">@(item.RentAgreementSignatoryName == null || item.RentAgreementSignatoryName == "" ? "--" : item.RentAgreementSignatoryName)</td>
                        </tr>
                        <tr>
                            <td class="title">Others</td>
                            <td class="text">@(item.rentAgreementSignatoryOthers == null || item.rentAgreementSignatoryOthers == "" ? "--" : item.rentAgreementSignatoryOthers)</td>
                            <td class="title">Monthly Rent (Rs)</td>
                            <td class="text">@(item.MonthlyRent == null || item.MonthlyRent == "" ? "--" : string.Format("{0:#,###}", Convert.ToDecimal(item.MonthlyRent)))</td>
                        </tr>
                        <tr>
                            <td class="title">Monthly Rent Sharing (%age)</td>
                            <td class="text">@(item.MonthlyRentSharingPercentage == null || item.MonthlyRentSharingPercentage == "" ? "--" : (Convert.ToDecimal(item.MonthlyRentSharingPercentage)).ToString() + " %")</td>
                            <td class="title">Monthly Share (Rs)</td>
                            <td class="text">@(item.MonthlyShare == null || item.MonthlyShare == "" ? "--" : string.Format("{0:#,##0}", Convert.ToDecimal(item.MonthlyShare)))</td>
                        </tr>
                        <tr>
                            <td class="title">Rent Agreement Expiry Date</td>
                            <td class="text">@(item.RentAgreementExpiryDate == null ? "--" : string.Format("{0:dd MMM yyyy}", item.RentAgreementExpiryDate))</td>
                            <td class="title">Current Address Since</td>
                            <td class="text">@(item.CurrentAddressSince == null ? "--" : string.Format("{0:dd MMM yyyy}", item.CurrentAddressSince))</td>
                        </tr>
                        <tr>
                            <td class="title">Time at current Address</td>
                            <td class="text">@(item.CalculatedTimeAtCurrentAddress == null || item.CalculatedTimeAtCurrentAddress == "" ? "--" : item.CalculatedTimeAtCurrentAddress)</td>
                            <td class="title">Business Phone No</td>
                            <td class="text">@(item.BusinessPhoneNumber == null || item.BusinessPhoneNumber == "" ? "--" : item.BusinessPhoneNumber)</td>
                        </tr>
                        <tr>
                            <td class="title">Email</td>
                            <td class="text" style="text-transform:lowercase">@(item.Email == null || item.Email == "" ? "--" : item.Email)</td>
                            <td class="title">NTN No.</td>
                            <td class="text">@(item.NtnNo == null || item.NtnNo == "" ? "--" : item.NtnNo)</td>
                        </tr>
                        <tr>
                            <td class="title">Sales Tax No.</td>
                            <td class="text">@(item.SalesTaxNo == null || item.SalesTaxNo == "" ? "--" : item.SalesTaxNo)</td>
                            <td class="title">Other Businesses</td>
                            @if (item.isAnyOtherBusiness == null)
                            {
                                <td class="text">N/A</td>
                            }
                            else if (item.isAnyOtherBusiness == false)
                            {
                                <td class="text">No</td>
                            }
                            else if (item.isAnyOtherBusiness == true)
                            {
                                <td class="text">Yes</td>
                            }
                        </tr>
                        <tr>
                            <td class="title">Number of Businesses</td>
                            <td class="text">@(item.NumberofBusiness == null || item.NumberofBusiness == "" ? "--" : item.NumberofBusiness)</td>
                            <td class="title"></td>
                            <td class="text"></td>
                        </tr>
                    }
                }

            </table>

        }
        @if (ViewBag.ColD.isNA == false)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Collateral Details</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.ColD != null)
                    {

                        @if (ViewBag.ColD.createCollateralLandBuilding.Count > 0)
                        {
                            <tr>
                                <td class="title text-center bg-gray" colspan="4">COLLATERAL : BUILDING / LAND / AGRI-LAND</td>
                            </tr>

                            foreach (var item in ViewBag.ColD.createCollateralLandBuilding)
                            {
                                <tr>
                                    <td class="title" width="30%">Date of Evaluation</td>
                                    <td class="text" width="25%">@string.Format("{0:dd MMM yyyy}", item.DateOfEvaluation)</td>

                                    <td class="title" width="25%">PROPERTY TYPE</td>
                                    <td class="text" width="20%">@(item.propertyTypeName == null || item.propertyTypeName == "" ? "--" : item.propertyTypeName)</td>

                                </tr>
                                <tr>
                                    <td class="title">Ownership of Property</td>
                                    <td class="text">@(item.OwnershipName == null || item.OwnershipName == "" ? "--" : item.OwnershipName)</td>
                                    <td class="title">Property Owner Name</td>
                                    <td class="text">@(item.PropertyOwnerName == null || item.PropertyOwnerName == "" ? "--" : item.PropertyOwnerName)</td>
                                </tr>
                                <tr>
                                    <td class="title">Relationship with Applicant</td>
                                    <td class="text">@(item.RelationWithApplicant == null || item.RelationWithApplicant == "" ? "--" : item.RelationWithApplicant)</td>
                                    <td class="title">Acquisition Date</td>
                                    <td class="text">@string.Format("{0:dd MMM yyyy}", item.AcquisitionDate)</td>
                                </tr>
                                <tr>
                                    <td class="title">Property Address</td>
                                    <td class="text">@(item.PropertyAddress == null || item.PropertyAddress == "" ? "--" : item.PropertyAddress)</td>
                                    <td class="title">Total Area (Sq. Ft)</td>
                                    <td class="text">@(item.TotalArea == null ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.TotalArea).Replace(",",""))))</td>
                                </tr>
                                <tr>
                                    <td class="title">Covered Area (Sq. Ft)</td>
                                    <td class="text">@(item.CoveredArea == null ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.CoveredArea).Replace(",",""))))</td>
                                    <td class="title">Purchased Price (Rs)</td>
                                    <td class="text">@(item.PurchasePrice == null ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.PurchasePrice).Replace(",",""))))</td>
                                </tr>
                                <tr>
                                    <td class="title">Government Price (Rs)</td>
                                    <td class="text">@(item.GovtEstimatedValue == null ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.GovtEstimatedValue).Replace(",",""))))</td>
                                    <td class="title">Market Price (Rs)</td>
                                    <td class="text">@(item.LandBuildingMarketPrice == null ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.LandBuildingMarketPrice).Replace(",",""))))</td>
                                </tr>
                                <tr>
                                    <td class="title">Dealer-1 Name</td>
                                    <td class="text">@(item.DealerOneName == null || item.DealerOneName == "" ? "--" : item.DealerOneName)</td>
                                    <td class="title">Dealer-1 Contact Number</td>
                                    <td class="text">@(item.DealerOneContactNumber == null || item.DealerOneContactNumber == "" ? "--" : item.DealerOneContactNumber)</td>
                                </tr>
                                <tr>
                                    <td class="title">Dealer-1 Business Name</td>
                                    <td class="text">@(item.DealerOneBusinessName == null || item.DealerOneBusinessName == "" ? "--" : item.DealerOneBusinessName)</td>
                                    <td class="title"></td>
                                    <td class="text"></td>
                                </tr>
                                <tr>
                                    <td class="title">Dealer-2 Name</td>
                                    <td class="text">@(item.DealerTwoName == null || item.DealerTwoName == "" ? "--" : item.DealerTwoName)</td>
                                    <td class="title">Dealer-2 Contact Number</td>
                                    <td class="text">@(item.DealerTwoContactNumber == null || item.DealerTwoContactNumber == "" ? "--" : item.DealerTwoContactNumber)</td>
                                </tr>
                                <tr>
                                    <td class="title">Dealer-2 Business Name</td>
                                    <td class="text">@(item.DealerTwoBusinessName == null || item.DealerTwoBusinessName == "" ? "--" : item.DealerTwoBusinessName)</td>
                                    <td class="title"></td>
                                    <td class="text"></td>
                                </tr>

                                <tr>
                                    <td class="title">Applied LTV %age</td>
                                    <td class="text">@(item.AppliedLtvPercentage == null || item.AppliedLtvPercentage == "" ? "--" : item.AppliedLtvPercentage)</td>
                                    <td class="title">Max Financing Allowed as per LTV</td>
                                    <td class="text">@(item.MaxFinancingAllowedLTV == null || item.MaxFinancingAllowedLTV == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MaxFinancingAllowedLTV).Replace(",", ""))))</td>
                                </tr>

                                if (ViewBag.ColD.createCollateralLandBuilding.Count > 1)
                                {
                                    <tr>
                                        <td class="title text-center bg-gray" colspan="4"></td>
                                    </tr>
                                }

                            }
                        }
                        @if (ViewBag.ColD.createCollateralVehicle.Count > 0)
                        {
                            <tr>
                                <td class="title text-center bg-gray" colspan="4">COLLATERAL : VEHICLE</td>
                            </tr>

                            foreach (var item in ViewBag.ColD.createCollateralVehicle)
                            {

                                <tr>
                                    <td class="title" width="30%">Date of Evaluation</td>
                                    <td class="text" width="25%">@string.Format("{0:dd MMM yyyy}", item.DateOfEvaluation)</td>

                                    <td class="title" width="25%">
                                        Ownership of Vehicle
                                    </td>
                                    <td class="text" width="20%">@(item.OwnershipName == null || item.OwnershipName == "" ? "--" : item.OwnershipName)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Vehicle Owner Name
                                    </td>
                                    <td class="text">@(item.VehicleOwnerName == null || item.VehicleOwnerName == "" ? "--" : item.VehicleOwnerName)</td>

                                    <td class="title">
                                        Relationship with Applicant
                                    </td>
                                    <td class="text">@(item.RelationWithApplicant == null || item.RelationWithApplicant == "" ? "--" : item.RelationWithApplicant)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        Registration Number
                                    </td>
                                    <td class="text">@(item.RegistrationNo == null || item.RegistrationNo == "" ? "--" : item.RegistrationNo)</td>

                                    <td class="title">
                                        Make
                                    </td>
                                    <td class="text">@(item.MAKE == null || item.MAKE == "" ? "--" : item.MAKE)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Model
                                    </td>
                                    <td class="text">@(item.ModelNo == null || item.ModelNo == "" ? "--" : item.ModelNo)</td>

                                    <td class="title">
                                        Vehicle Age
                                    </td>
                                    <td class="text">@(item.VehicleAgeName == null || item.VehicleAgeName == "" ? "--" : item.VehicleAgeName)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Horse Power / CC:
                                    </td>
                                    <td class="text">@(item.HorsePowerCC == null || item.HorsePowerCC == "" ? "--" : item.HorsePowerCC)</td>

                                    <td class="title">
                                        Chassis Number
                                    </td>
                                    <td class="text">@(item.ChasisNo == null || item.ChasisNo == "" ? "--" : item.ChasisNo)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Engine Number
                                    </td>
                                    <td class="text">@(item.EngineNo == null || item.EngineNo == "" ? "--" : item.EngineNo)</td>

                                    <td class="title">
                                        Market Price
                                    </td>
                                    <td class="text">@(item.MarketValue == null ? "--" : item.MarketValue)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Insurance Company
                                    </td>
                                    <td class="text">@(item.InsuranceCompany == null || item.InsuranceCompany == "" ? "--" : item.InsuranceCompany)</td>

                                    <td class="title">
                                        Insurance Policy Number
                                    </td>
                                    <td class="text">@(item.InsurancePolicyNo == null || item.InsurancePolicyNo == "" ? "--" : item.InsurancePolicyNo)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Insured Value
                                    </td>
                                    <td class="text">@(item.InsuredValue == null ? "--" : item.InsuredValue)</td>

                                    <td class="title">
                                        Insurance Expiry Date
                                    </td>
                                    <td class="text">@string.Format("{0:dd MMM yyyy}", item.InsuranceExpiryDate)</td>

                                </tr>
                                <tr>
                                    <td class="title">
                                        Evaluator Name
                                    </td>
                                    <td class="text">@(item.EvaluatorName == null || item.EvaluatorName == "" ? "--" : item.EvaluatorName)</td>

                                    <td class="title">
                                        Evaluator's Contact Number
                                    </td>
                                    <td class="text">@(item.EvaluatorContactNumber == null || item.EvaluatorContactNumber == "" ? "--" : item.EvaluatorContactNumber)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Evaluator's Business Name
                                    </td>
                                    <td class="text">@(item.EvaluatorBusinessName == null || item.EvaluatorBusinessName == "" ? "--" : item.EvaluatorBusinessName)</td>

                                    <td class="title">
                                        Applied LTV %age
                                    </td>
                                    <td class="text">@(item.AppliedLtvPercentage == null || item.AppliedLtvPercentage == "" ? "--" : item.AppliedLtvPercentage)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        Max Financing Allowed as per LTV
                                    </td>
                                    <td class="text">@(item.MaxFinancingAllowedLTV == null || item.MaxFinancingAllowedLTV == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MaxFinancingAllowedLTV).Replace(",", ""))))</td>
                                    <td></td>
                                    <td></td>
                                </tr>


                                if (ViewBag.ColD.createCollateralVehicle.Count > 1)
                                {
                                    <tr>
                                        <td class="title text-center bg-gray" colspan="4"></td>
                                    </tr>
                                }

                            }
                        }
                        @if (ViewBag.ColD.createCollateralTDR.Count > 0)
                        {
                            <tr>
                                <td class="title text-center bg-gray" colspan="4">COLLATERAL : TDR</td>
                            </tr>

                            foreach (var item in ViewBag.ColD.createCollateralTDR)
                            {


                                <tr>
                                    <td class="title" width="30%">
                                        Date of Evaluation
                                    </td>
                                    <td class="text" width="25%">@string.Format("{0:dd MMM yyyy}", item.DateOfEvaluation)</td>

                                    <td class="title" width="25%">
                                        Ownership of TDR
                                    </td>
                                    <td class="text" width="20%">@(item.OwnershipName == null || item.OwnershipName == "" ? "--" : item.OwnershipName)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        TDR Owner Name
                                    </td>
                                    <td class="text">@(item.TDrOwnerName == null || item.TDrOwnerName == "" ? "--" : item.TDrOwnerName)</td>

                                    <td class="title">
                                        Relationship with Applicant
                                    </td>
                                    <td class="text">@(item.RelationWithApplicant == null || item.RelationWithApplicant == "" ? "--" : item.RelationWithApplicant)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        TDR Number
                                    </td>
                                    <td class="text">@(item.TDRNo == null || item.TDRNo == "" ? "--" : item.TDRNo)</td>

                                    <td class="title">
                                        Amount of TDR
                                    </td>
                                    <td class="text">@(item.AmountTDR == null ? "--" : item.AmountTDR)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Bank Name
                                    </td>
                                    <td class="text">@(item.BankName == null || item.BankName == "" ? "--" : item.BankName)</td>

                                    <td class="title">
                                        Bank Rating
                                    </td>
                                    <td class="text">@(item.BankRatingName == null || item.BankRatingName == "" ? "--" : item.BankRatingName)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Branch Name
                                    </td>
                                    <td class="text">@(item.BranchName == null || item.BranchName == "" ? "--" : item.BranchName)</td>

                                    <td class="title">
                                        Branch Address
                                    </td>
                                    <td class="text">@(item.BranchAddress == null || item.BranchAddress == "" ? "--" : item.BranchAddress)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Applied LTV %age
                                    </td>
                                    <td class="text">@(item.AppliedLtvPercentage == null || item.AppliedLtvPercentage == "" ? "--" : item.AppliedLtvPercentage)</td>

                                    <td class="title">
                                        Max Financing Allowed as per LTV
                                    </td>
                                    <td class="text">@(item.MaxFinancingAllowedLTV == null || item.MaxFinancingAllowedLTV == "" ? "--" : item.MaxFinancingAllowedLTV)</td>
                                </tr>


                                if (ViewBag.ColD.createCollateralTDR.Count > 1)
                                {
                                    <tr>
                                        <td class="title text-center bg-gray" colspan="4"></td>
                                    </tr>
                                }

                            }
                        }
                        @if (ViewBag.ColD.createCollateralFranchise.Count > 0)
                        {
                            <tr>
                                <td class="title text-center bg-gray" colspan="4">COLLATERAL : FRANCHISE</td>
                            </tr>

                            foreach (var item in ViewBag.ColD.createCollateralFranchise)
                            {


                                <tr>
                                    <td class="title">
                                        Date of Evaluation
                                    </td>
                                    <td class="text">@string.Format("{0:dd MMM yyyy}", item.DateOfEvaluation)</td>

                                    <td class="title">
                                        Ownership of Franchise
                                    </td>
                                    <td class="text">@(item.OwnershipName == null || item.OwnershipName == "" ? "--" : item.OwnershipName)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Franchise Owner Name
                                    </td>
                                    <td class="text">@(item.FranchiseOwnerName == null || item.FranchiseOwnerName == "" ? "--" : item.FranchiseOwnerName)</td>

                                    <td class="title">
                                        Relationship with Applicant
                                    </td>
                                    <td class="text">@(item.RelationWithApplicant == null || item.RelationWithApplicant == "" ? "--" : item.RelationWithApplicant)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        Franchiser Name
                                    </td>
                                    <td class="text">@(item.FranchiserName == null || item.FranchiserName == "" ? "--" : item.FranchiserName)</td>

                                    <td class="title">
                                        Franchiser Address
                                    </td>
                                    <td class="text">@(item.FranchiserAddress == null || item.FranchiserAddress == "" ? "--" : item.FranchiserAddress)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Franchise (Branch / Campus) Name
                                    </td>
                                    <td class="text">@(item.FranchiseBranchCampusName == null || item.FranchiseBranchCampusName == "" ? "--" : item.FranchiseBranchCampusName)</td>

                                    <td class="title">
                                        Franchise (Branch/Campus) Address
                                    </td>
                                    <td class="text">@(item.FranchiseBranchCampusAddress == null || item.FranchiseBranchCampusAddress == "" ? "--" : item.FranchiseBranchCampusAddress)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Amount of Franchise Agreement
                                    </td>
                                    <td class="text">@(item.AmountOfFranchiseAgreement == null ? "--" : item.AmountOfFranchiseAgreement)</td>

                                    <td class="title">
                                        Applied LTV %age
                                    </td>
                                    <td class="text">@(item.AppliedLtvPercentage == null || item.AppliedLtvPercentage == "" ? "--" : item.AppliedLtvPercentage)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        Max Financing Allowed as per LTV
                                    </td>
                                    <td class="text">@(item.MaxFinancingAllowedLTV == null || item.MaxFinancingAllowedLTV == "" ? "--" : item.MaxFinancingAllowedLTV)</td>
                                    <td></td>
                                    <td></td>
                                </tr>


                                if (ViewBag.ColD.createCollateralFranchise.Count > 1)
                                {
                                    <tr>
                                        <td class="title text-center bg-gray" colspan="4"></td>
                                    </tr>
                                }

                            }
                        }
                        @if (ViewBag.ColD.createCollateralGold.Count > 0)
                        {
                            <tr>
                                <td class="title text-center bg-gray" colspan="4">COLLATERAL : GOLD</td>
                            </tr>

                            foreach (var item in ViewBag.ColD.createCollateralGold)
                            {

                                <tr>
                                    <td class="title">
                                        Date of Evaluation
                                    </td>
                                    <td class="text">@string.Format("{0:dd MMM yyyy}", item.DateOfEvaluation)</td>

                                    <td class="title">
                                        Ownership of Franchise
                                    </td>
                                    <td class="text">@(item.CollateralOwnershipName == null || item.CollateralOwnershipName == "" ? "--" : item.CollateralOwnershipName)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Gold Owner Name
                                    </td>
                                    <td class="text">@(item.GoldOwnerName == null || item.GoldOwnerName == "" ? "--" : item.GoldOwnerName)</td>

                                    <td class="title">
                                        Relationship with Applicant
                                    </td>
                                    <td class="text">@(item.RelationWithApplicant == null || item.RelationWithApplicant == "" ? "--" : item.RelationWithApplicant)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        Number of Items
                                    </td>
                                    <td class="text">@(item.NoOFItemGold == null || item.NoOFItemGold == "" ? "--" : item.NoOFItemGold)</td>

                                    <td class="title">
                                        Description of Item
                                    </td>
                                    <td class="text">@(item.ItemDescriptionGold == null || item.ItemDescriptionGold == "" ? "--" : item.ItemDescriptionGold)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Total Gross Weight (In grams)
                                    </td>
                                    <td class="text">@(item.TotalGrossWeightGold == null ? "--" : item.TotalGrossWeightGold)</td>

                                    <td class="title">
                                        Total Net Weight (In grams):
                                    </td>
                                    <td class="text">@(item.TotalNetWeightGold == null ? "--" : item.TotalNetWeightGold)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Market value of 1 gram
                                    </td>
                                    <td class="text">@(item.MarketValueInGram == null ? "--" : item.MarketValueInGram)</td>


                                    <td class="title">
                                        Market value of total gold
                                    </td>
                                    <td class="text">@(item.MarketValueTotalGold == null ? "--" : item.MarketValueTotalGold)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Evaluator Name
                                    </td>
                                    <td class="text">@(item.GoldEvaluatorName == null || item.GoldEvaluatorName == "" ? "--" : item.GoldEvaluatorName)</td>

                                    <td class="title">
                                        Applied LTV %age
                                    </td>
                                    <td class="text">@(item.AppliedLtvPercentage == null || item.AppliedLtvPercentage == "" ? "--" : item.AppliedLtvPercentage)</td>
                                </tr>

                                <tr>
                                    <td class="title">
                                        Max Financing Allowed as per LTV
                                    </td>
                                    <td class="text">@(item.MaxFinancingAllowedLTV == null || item.MaxFinancingAllowedLTV == "" ? "--" : item.MaxFinancingAllowedLTV)</td>
                                    <td></td>
                                    <td></td>
                                </tr>


                                if (ViewBag.ColD.createCollateralGold.Count > 1)
                                {
                                    <tr>
                                        <td class="title text-center bg-gray" colspan="4"></td>
                                    </tr>
                                }

                            }
                        }
                        @if (ViewBag.ColD.CollateralTypeOthers != null && ViewBag.ColD.CollateralTypeOthers != "")
                        {
                            <tr>
                                <td class="title text-center bg-gray" colspan="4">COLLATERAL : OTHERS</td>
                            </tr>

                            <tr>
                                <td class="title">Other Collateral</td>
                                <td class="text"> @ViewBag.ColD.CollateralTypeOthers</td>
                                <td class="title"></td>
                                <td class="text"></td>
                            </tr>
                        }

                    }
                    <tr>
                        <td class="title text-center bg-gray" colspan="4">Cumulative</td>
                    </tr>
                    <tr>
                        <td class="title" width="30%">All Collaterals Market Prices</td>
                        <td class="text" width="25%">@(ViewBag.ColD.AllCollateralMarketPrice == null || ViewBag.ColD.AllCollateralMarketPrice == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.ColD.AllCollateralMarketPrice).Replace(",", ""))))</td>

                        <td class="title" width="25%">Max Financing Allowed as per LTV of All Collaterals</td>
                        <td class="text" width="20%">@(ViewBag.ColD.MaxFinancingAllowedLtvAllCollaterals == null || ViewBag.ColD.MaxFinancingAllowedLtvAllCollaterals == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.ColD.MaxFinancingAllowedLtvAllCollaterals).Replace(",", ""))))</td>
                    </tr>
                </tbody>
            </table>

        }
        @if (ViewBag.ED != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Exposure Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="title" width="30%">
                            Existing exposure as on
                        </td>
                        <td class="text" width="25%">@(ViewBag.ED.ExistingExposureAsOn == null ? "--" : string.Format("{0:MMM yyyy}", ViewBag.ED.ExistingExposureAsOn))</td>

                        <td class="title" width="25%">
                            Existing Exposure
                        </td>
                        <td class="text" width="20%">@(ViewBag.ED.ExistingBankExposure == null || ViewBag.ED.ExistingBankExposure == "" ? "--" : ViewBag.ED.ExistingBankExposure)</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Credit Bureau Generation
                        </td>
                        <td class="text">@(ViewBag.ED.CreditBureauGeneration == null ? "--" : string.Format("{0:dd MMM yyyy}", ViewBag.ED.CreditBureauGeneration))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Have you guaranteed loan from FI
                        </td>
                        <td class="text">@(ViewBag.ED.GuaranteedFiLoan == null || ViewBag.ED.GuaranteedFiLoan == "" ? "--" : ViewBag.ED.GuaranteedFiLoan)</td>

                        <td class="title">
                            Guarantee Amount (FI)
                        </td>
                        <td class="text">@(ViewBag.ED.guaranteedAmountFI == null || ViewBag.ED.guaranteedAmountFI == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.ED.guaranteedAmountFI).Replace(",",""))))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Have you guaranteed TFCL loan?
                        </td>
                        <td class="text">@(ViewBag.ED.GuaranteedTFCLLoan == null || ViewBag.ED.GuaranteedTFCLLoan == "" ? "--" : ViewBag.ED.GuaranteedTFCLLoan)</td>

                        <td class="title">
                            Guarantee Amount (TFCL)
                        </td>
                        <td class="text">@(ViewBag.ED.GuaranteeTFCLAmount == null || ViewBag.ED.GuaranteeTFCLAmount == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.ED.GuaranteeTFCLAmount).Replace(",",""))))</td>
                    </tr>

                    <tr>
                        <td class="title">
                            Application Number Guarantee Given
                        </td>
                        <td class="text">@(ViewBag.ED.AppNoTfclLoanGuarantee == null || ViewBag.ED.AppNoTfclLoanGuarantee == "" ? "--" : ViewBag.ED.AppNoTfclLoanGuarantee)</td>

                        <td class="title">
                            Applicant Name Guarantee Given
                        </td>
                        <td class="text">@(ViewBag.ED.ApplicantNameTfclLoanGuarantee == null || ViewBag.ED.ApplicantNameTfclLoanGuarantee == "" ? "--" : ViewBag.ED.ApplicantNameTfclLoanGuarantee)</td>

                    </tr>

                    @if (ViewBag.ED.exposureDetailsList != null)
                    {
                        <tr>
                            <td class="title text-left bg-gray" colspan="4"></td>
                        </tr>
                        @foreach (var InnerItem in ViewBag.ED.exposureDetailsList)
                        {

                            <tr>
                                <td class="title">
                                    Name of Bank / Financial Institution
                                </td>
                                <td class="text">@(InnerItem.BankNameString == null || InnerItem.BankNameString == "" ? "--" : InnerItem.BankNameString)</td>

                                <td class="title">
                                    Others
                                </td>
                                <td class="text">@(InnerItem.Others == null || InnerItem.Others == "" ? "--" : InnerItem.Others)</td>

                            </tr>
                            <tr>
                                <td class="title">Credit Bureau Reported</td>
                                <td class="text">@(InnerItem.CreditBureauReported == null || InnerItem.CreditBureauReported == "" ? "--" : InnerItem.CreditBureauReported)</td>
                                <td class="title">Type of Facility</td>
                                <td class="text">@(InnerItem.TypeOfFacilityTE == null || InnerItem.TypeOfFacilityTE == "" ? "--" : InnerItem.TypeOfFacilityTE)</td>
                            </tr>
                            <tr>
                                <td class="title">Expiry Date</td>
                                <td class="text">@(InnerItem.ExpiryDate == null ? "--" : string.Format("{0:dd MMM yyyy}", InnerItem.ExpiryDate))</td>
                                <td class="title">Loan Amount</td>
                                <td class="text">@(InnerItem.LoanAmount == 0 ? "0" : string.Format("{0:#,##0}", InnerItem.LoanAmount))</td>
                            </tr>
                            <tr>
                                <td class="title">Outstanding Amount</td>
                                <td class="text">@(InnerItem.OutstandingAmount == 0 ? "0" : string.Format("{0:#,##0}", InnerItem.OutstandingAmount))</td>
                                <td class="title">Instalment / Min. Payment</td>
                                <td class="text">@(InnerItem.MonthlyInstallmentPayment == 0 ? "0" : string.Format("{0:#,##0}", InnerItem.MonthlyInstallmentPayment))</td>
                            </tr>

                            <tr>
                                <td class="title text-left bg-gray" colspan="4"></td>
                            </tr>
                        }
                        <tr>
                            <td class="title">Total Outstanding Amount</td>
                            <td class="text">@(ViewBag.ED.TotalAmount == null || ViewBag.ED.TotalAmount=="" ? "0" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.ED.TotalAmount).Replace(",", ""))))</td>
                            <td class="title">Total Instalment / Min. Payment</td>
                            <td class="text">@( ViewBag.ED.TotalInstallmentpayment == 0 ? "0" : string.Format("{0:#,##0}", ViewBag.ED.TotalInstallmentpayment))</td>
                        </tr>

                    }

                </tbody>
            </table>

        }
        @if (ViewBag.ID != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Inventory Details</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var InnerItem in ViewBag.ID.TdsInventoryDetailChilds)
                    {
                        <tr>
                            <th class="title text-left bg-gray" colspan="4">@InnerItem.BusinessName</th>
                        </tr>
                        <tr>
                            <td class="title" width="30%">
                                Inventory Record Maintanance
                            </td>
                            <td class="text" width="25%">@(InnerItem.InventoryRecordMaintenanceName == null || InnerItem.InventoryRecordMaintenanceName == "" ? "--" : InnerItem.InventoryRecordMaintenanceName)</td>

                            <td class="title" width="25%">
                                Inventory Entry Source
                            </td>
                            <td class="text" width="20%">@(InnerItem.InventoryEntrySourceName == null || InnerItem.InventoryEntrySourceName == "" ? "--" : InnerItem.InventoryEntrySourceName)</td>
                        </tr>
                        <tr><td class="title text-left bg-gray" colspan="4"></td></tr>
                        <tr>
                            @{ int counter = 1; }
                            <td colspan="4" style="padding:0px">
                                <table border="1" width="100%">
                                    <thead>
                                        <tr>
                                            <th class="title">
                                                Sr
                                            </th>
                                            <th class="title">
                                                Item Name
                                            </th>
                                            <th class="title">
                                                Qty
                                            </th>
                                            <th class="title">
                                                Purchase Price
                                            </th>
                                            <th class="title">
                                                Total Purchase Price
                                            </th>
                                            <th class="title">
                                                Sale price
                                            </th>
                                            <th class="title">
                                                Total Sale Price
                                            </th>
                                            <th class="title">
                                                Gross Margin
                                            </th>
                                            <th class="title">
                                                Physically Verified
                                            </th>
                                            <th class="title">
                                                Variance %age
                                            </th>
                                        </tr>
                                    </thead>
                                    @if (InnerItem.TdsInventoryDetailGrandChilds != null)
                                    {

                                        @if (InnerItem.TdsInventoryDetailGrandChilds.Count > 0)
                                        {
                                            <tbody>
                                                @foreach (var child in InnerItem.TdsInventoryDetailGrandChilds)
                                                {
                                                    <tr>
                                                        <td class="text">@(counter++)</td>
                                                        <td class="text">@(child.ItemName == null || child.ItemName == "" ? "--" : child.ItemName)</td>
                                                        <td class="text">@(child.qty == null || child.qty == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.qty).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.PurchasedPrice == null || child.PurchasedPrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.PurchasedPrice).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.TotalPurchasedPrice == null || child.TotalPurchasedPrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.TotalPurchasedPrice).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.SalePrice == null || child.SalePrice == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((child.SalePrice).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.TotalSalePrice == null || child.TotalSalePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.TotalSalePrice).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.GrossMargin == null || child.GrossMargin == "" ? "0" : string.Format("{0:#,##0}", (child.GrossMargin).Replace(",", "")))</td>
                                                        <td class="text">@(child.PhysicallyVerified == null || child.PhysicallyVerified == "" ? "0" : string.Format("{0:#,##0}", (child.PhysicallyVerified).Replace(",", "")))</td>
                                                        <td class="text">@(child.VariancePercentage == null || child.VariancePercentage == "" ? "0" : string.Format("{0:#,##0}%", (child.VariancePercentage).Replace(",", "")))</td>
                                                        @*<td style="text-align:right">@(child.Salary == null || child.Salary == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((child.Salary).Replace(",", ""))))</td>*@
                                                    </tr>
                                                }
                                            </tbody>
                                        }
                                    }
                                    <tfoot>
                                        <tr>
                                            <td class="title" colspan="2" class="text-right">
                                                Total
                                            </td>
                                            <td class="text" style="text-align:center">@(InnerItem.TotalInventoryQty == null || InnerItem.TotalInventoryQty == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((InnerItem.TotalInventoryQty).Replace(",", ""))))</td>
                                            <td class="text" style="text-align:right">@(InnerItem.TotalInventoryPurchasePrice == null || InnerItem.TotalInventoryPurchasePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((InnerItem.TotalInventoryPurchasePrice).Replace(",", ""))))</td>
                                            <td class="text" style="text-align:right">@(InnerItem.TotalInventoryTotalPurchasePrice == null || InnerItem.TotalInventoryTotalPurchasePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((InnerItem.TotalInventoryTotalPurchasePrice).Replace(",", ""))))</td>
                                            <td class="text" style="text-align:right">@(InnerItem.TotalInventorySalePrice == null || InnerItem.TotalInventorySalePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((InnerItem.TotalInventorySalePrice).Replace(",", ""))))</td>
                                            <td class="text" style="text-align:right">@(InnerItem.TotalInventoryTotalSalePrice == null || InnerItem.TotalInventoryTotalSalePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((InnerItem.TotalInventoryTotalSalePrice).Replace(",", ""))))</td>
                                            <td></td>
                                            <td class="title">Items VERIFIED</td>
                                            <td class="text">@(InnerItem.TotalVariancePercentage == null || InnerItem.TotalVariancePercentage == "" ? "0" : string.Format("{0:#,##0}%",  (InnerItem.TotalVariancePercentage).Replace(",", "")))</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </td>
                        </tr>
                        <tr><td class="title text-left bg-gray" colspan="4"></td></tr>
                    }
                    <tr>
                        <td class="title">Total Purchase Price</td>
                        <td class="text">@(ViewBag.ID.GrandTotalPurchasePrice == null || ViewBag.ID.GrandTotalPurchasePrice == "" ? "--" : string.Format("{0:#,##0}", Convert.ToDecimal(ViewBag.ID.GrandTotalPurchasePrice)))</td>
                        <td class="title">Total Sale Price</td>
                        <td class="text">@(ViewBag.ID.GrandTotalSalePrice == null || ViewBag.ID.GrandTotalSalePrice == "" ? "--" : string.Format("{0:#,##0}", Convert.ToDecimal(ViewBag.ID.GrandTotalSalePrice)))</td>
                    </tr>
                </tbody>
            </table>
        }
        @if (ViewBag.ALD != null)
        {
            <table border="1" width="100%" class="tbl">


                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Asset Liability Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="title" width="30%">
                            Asset/Liabilty Detail as on
                        </td>
                        <td class="text" width="25%">@(ViewBag.ALD.AssetLiabilityAsOn == null ? "--" : string.Format("{0:MMM yyyy}", ViewBag.ALD.AssetLiabilityAsOn))</td>

                        <td class="title" width="25%">
                        </td>
                        <td class="text" width="20%"></td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <th class="title" width="55%" colspan="2">Business Assets</th>
                        <th class="title" width="45%" colspan="2">Business Liabilities</th>
                    </tr>

                    <tr>
                        <td class="title">
                            Cash in hand / at Bank
                            @(ViewBag.ALD.qtyAssetCashInHandAtBank == "" || ViewBag.ALD.qtyAssetCashInHandAtBank == null  ? "" : " ( "+ViewBag.ALD.qtyAssetCashInHandAtBank+" ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetCashInHandAtBank == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetCashInHandAtBank))</td>

                        <td class="title">Loans Payable - Bank @(ViewBag.ALD.detailsLoanPayableBank == "" || ViewBag.ALD.detailsLoanPayableBank == null  ? "" : " ( " + ViewBag.ALD.detailsLoanPayableBank + " ) ")</td>
                        <td class="text">@(ViewBag.ALD.LiablityLoanPayebleBank == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.LiablityLoanPayebleBank))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Stock In Hand
                            @(ViewBag.ALD.qtyAssetStockInHand == "" || ViewBag.ALD.qtyAssetStockInHand == null  ? "" : " ( " + ViewBag.ALD.qtyAssetStockInHand + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetStockInHand == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetStockInHand))</td>
                        <td class="title">
                            Student Security Deposit
                            @(ViewBag.ALD.detailsStudentSecurityDeposit == "" || ViewBag.ALD.detailsStudentSecurityDeposit == null  ? "" : " ( " + ViewBag.ALD.detailsStudentSecurityDeposit + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.LiablityStudentSecurityDeposit == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.LiablityStudentSecurityDeposit))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Account Receivables
                            @(ViewBag.ALD.qtyAssetAccountReceivable == "" || ViewBag.ALD.qtyAssetAccountReceivable == null  ? "" : " ( " + ViewBag.ALD.qtyAssetAccountReceivable + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetAccountReceivable == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetAccountReceivable))</td>
                        <td class="title">Advance Received @(ViewBag.ALD.detailsAdvanceReceived == "" || ViewBag.ALD.detailsAdvanceReceived == null  ? "" : " ( " + ViewBag.ALD.detailsAdvanceReceived + " ) ")</td>
                        <td class="text">@(ViewBag.ALD.LiablityAdvanceReceived == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.LiablityAdvanceReceived))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Franchise Fee (Advances)
                            @(ViewBag.ALD.qtyAssetFranchiseFee == "" || ViewBag.ALD.qtyAssetFranchiseFee == null  ? "" : " ( " + ViewBag.ALD.qtyAssetFranchiseFee + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetFranchiseFee == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetFranchiseFee))</td>
                        <td class="title">Account Payables @(ViewBag.ALD.detailsAccountPayable == "" || ViewBag.ALD.detailsAccountPayable == null  ? "" : " ( " + ViewBag.ALD.detailsAccountPayable + " ) ")</td>
                        <td class="text">@(ViewBag.ALD.LiablityAccountPayable == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.LiablityAccountPayable))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Committee
                            @(ViewBag.ALD.qtyAssetCommittee == "" || ViewBag.ALD.qtyAssetCommittee == null  ? "" : " ( " + ViewBag.ALD.qtyAssetCommittee + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetCommittee == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetCommittee))</td>
                        <td class="title">Committee @(ViewBag.ALD.detailsCommittee == "" || ViewBag.ALD.detailsCommittee == null  ? "" : " ( " + ViewBag.ALD.detailsCommittee + " ) ")</td>
                        <td class="text">@(ViewBag.ALD.LiablityCommittee == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.LiablityCommittee))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Girvi Amount
                            @(ViewBag.ALD.qtyAssetGirviAmount == "" || ViewBag.ALD.qtyAssetGirviAmount == null  ? "" : " ( " + ViewBag.ALD.qtyAssetGirviAmount + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetGirviAmount == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetGirviAmount))</td>
                        <td class="title">Other Liabilities @(ViewBag.ALD.detailsOtherLiabilities == "" || ViewBag.ALD.detailsOtherLiabilities == null  ? "" : " ( " + ViewBag.ALD.detailsOtherLiabilities + " ) ")</td>
                        <td class="text">@(ViewBag.ALD.OtherLiablity == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.OtherLiablity))</td>
                    </tr>

                    <tr>
                        <td class="title">
                            Furniture & Fixtures
                            @(ViewBag.ALD.qtyAssetFurnitureFixture == "" || ViewBag.ALD.qtyAssetFurnitureFixture == null  ? "" : " ( " + ViewBag.ALD.qtyAssetFurnitureFixture + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetFurnitureFixture == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetFurnitureFixture))</td>
                        <td class="title"></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Vehicles
                            @(ViewBag.ALD.qtyAssetVehicle == "" || ViewBag.ALD.qtyAssetVehicle == null  ? "" : " ( " + ViewBag.ALD.qtyAssetVehicle + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetVehicle == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetVehicle))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Air Conditioners
                            @(ViewBag.ALD.qtyAssetAirConditioners == "" || ViewBag.ALD.qtyAssetAirConditioners == null  ? "" : " ( " + ViewBag.ALD.qtyAssetAirConditioners + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetAirConditioners == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetAirConditioners))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Computers
                            @(ViewBag.ALD.qtyAssetComputers == "" || ViewBag.ALD.qtyAssetComputers == null  ? "" : " ( " + ViewBag.ALD.qtyAssetComputers + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetComputers == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetComputers))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Generator/UPS
                            @(ViewBag.ALD.qtyAssetGeneratorUps == "" || ViewBag.ALD.qtyAssetGeneratorUps == null  ? "" : " ( " + ViewBag.ALD.qtyAssetGeneratorUps + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetGeneratorUps == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetGeneratorUps))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Solar
                            @(ViewBag.ALD.qtyAssetSolar == "" || ViewBag.ALD.qtyAssetSolar == null  ? "" : " ( " + ViewBag.ALD.qtyAssetSolar + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetSolar == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetSolar))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Other Equipment (Fridge/Photo Copier/Printers etc)
                            @(ViewBag.ALD.qtyAssetEquipment == "" || ViewBag.ALD.qtyAssetEquipment == null  ? "" : " ( " + ViewBag.ALD.qtyAssetEquipment + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetEquipment == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetEquipment))</td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td class="title">
                            Land & Building
                            @(ViewBag.ALD.qtyAssetLandBuliding == "" || ViewBag.ALD.qtyAssetLandBuliding == null  ? "" : " ( " + ViewBag.ALD.qtyAssetLandBuliding + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.AssetLandBuliding == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetLandBuliding))</td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td class="title">
                            Other Assets
                            @(ViewBag.ALD.qtyOtherAssets == "" || ViewBag.ALD.qtyOtherAssets == null  ? "" : " ( " + ViewBag.ALD.qtyOtherAssets + " ) ")
                        </td>
                        <td class="text">@(ViewBag.ALD.OtherAssets == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.OtherAssets))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title"><b>Total Business Assets</b></td>
                        <td class="text" style="text-align: right;"><b>@(ViewBag.ALD.TotalBusinessAsset == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.TotalBusinessAsset))</b></td>
                        <td class="title" style="text-align: right;"><b>Total Business Liabilities</b></td>
                        <td class="text" style="text-align: right;"><b>@(ViewBag.ALD.TotalBusinessLiability == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.TotalBusinessLiability))</b></td>
                    </tr>
                    <tr>
                        <td class="title"><b>Business Net Worth</b></td>
                        <td class="text" style="text-align: right;"><b>@(ViewBag.ALD.AssetBusinessNetWorth == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetBusinessNetWorth))</b></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title">Total Household Assets</td>
                        <td class="text" style="text-align: right;">@(ViewBag.ALD.TotalHouseholdAsset == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.TotalHouseholdAsset))</td>
                        <td class="title" style="text-align: right;">Total Household Liabilities</td>
                        <td class="text" style="text-align: right;">@(ViewBag.ALD.TotalHouseholdLiability == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.TotalHouseholdLiability))</td>
                    </tr>
                    <tr>
                        <td class="title"><b>Household Net Worth</b></td>
                        <td class="text" style="text-align: right;"><b>@(ViewBag.ALD.AssetHouseholdNetWorth == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.AssetHouseholdNetWorth))</b></td>
                        <td class="title" style="text-align: right;"><b>Borrower's Net Worth</b></td>
                        <td class="text" style="text-align: right;"><b>@(ViewBag.ALD.BorrowerNetWorthLiability == 0 ? "--" : string.Format("{0:#,###}", ViewBag.ALD.BorrowerNetWorthLiability))</b></td>
                    </tr>
                </tbody>
            </table>

        }
        @if (ViewBag.SD != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Sales Details</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in ViewBag.SD.SalesDetailChild)
                    {
                        <tr>
                            <th class="title text-left bg-gray" colspan="4">@item.BusinessName</th>
                        </tr>
                        @*<tr>
                            <td class="title" width="30%">
                                @string.Format("{0: MMM yyyy}", item.Month1)
                            </td>
                            <td class="text" width="25%">@string.Format("{0: MMM yyyy}", item.Month2)</td>

                            <td class="title" width="25%">
                                @string.Format("{0: MMM yyyy}", item.Month3)
                            </td>
                            <td class="text" width="20%">@string.Format("{0: MMM yyyy}", item.Month4)</td>
                        </tr>*@
                        <tr><td class="title text-center" colspan="4">Seasonal Sales ( @item.AnalysisMonth.ToString("MMM yyyy") )</td></tr>
                        <tr>
                            <td colspan="4" style="padding:0px">
                                <table border="1" width="100%" style="text-align:center">
                                    <thead>
                                        <tr>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month1)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month2)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month3)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month4)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month5)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month6)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month7)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month8)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month9)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month10)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month11)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month12)
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="text">@(item.Month1Sales == null || item.Month1Sales == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.Month1Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month2Sales == null || item.Month2Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month2Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month3Sales == null || item.Month3Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month3Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month4Sales == null || item.Month4Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month4Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month5Sales == null || item.Month5Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month5Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month6Sales == null || item.Month6Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month6Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month7Sales == null || item.Month7Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month7Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month8Sales == null || item.Month8Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month8Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month9Sales == null || item.Month9Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month9Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month10Sales == null || item.Month10Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month10Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month11Sales == null || item.Month11Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month11Sales).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month12Sales == null || item.Month12Sales == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month12Sales).Replace(",", ""))))</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr><td class="title text-left bg-gray" colspan="4"></td></tr>
                        <tr><td class="title text-center" colspan="4">Product Wise Sales</td></tr>
                        <tr>
                            @{ int counter = 1; }
                            <td colspan="4" style="padding:0px">
                                <table border="1" width="100%" style="text-align:center">
                                    <thead>
                                        <tr>
                                            <th class="title">
                                                Sr
                                            </th>
                                            <th class="title">
                                                Item Name
                                            </th>
                                            <th class="title">
                                                Per Unit Sales Price
                                            </th>
                                            <th class="title">
                                                Monthly Sale (Units)
                                            </th>
                                            <th class="title">
                                                Total Sale
                                            </th>
                                        </tr>
                                    </thead>
                                    @if (item.SalesDetailGrandChild != null)
                                    {

                                        @if (item.SalesDetailGrandChild.Count > 0)
                                        {
                                            <tbody>
                                                @foreach (var child in item.SalesDetailGrandChild)
                                                {
                                                    <tr>
                                                        <td class="text">@(counter++)</td>
                                                        <td class="text">@(child.ItemName == null || child.ItemName == "" ? "--" : child.ItemName)</td>
                                                        <td style="text-align:right">@(child.PerUnitSalePrice == null || child.PerUnitSalePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.PerUnitSalePrice).Replace(",", ""))))</td>
                                                        <td class="text">@(child.MonthlySaleUnit == null || child.MonthlySaleUnit == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.MonthlySaleUnit).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.TotalSale == null || child.TotalSale == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.TotalSale).Replace(",", ""))))</td>
                                                    </tr>
                                                }
                                            </tbody>

                                        }
                                    }
                                    <tfoot>
                                        <tr>
                                            <td colspan="4" class="text-right title">
                                                Total
                                            </td>
                                            <td style="text-align:right" class="text">@(item.TotalMonthlyProductWiseSale == null || item.TotalMonthlyProductWiseSale == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.TotalMonthlyProductWiseSale).Replace(",", ""))))</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </td>
                        </tr>
                        <tr><td class="title text-left bg-gray" colspan="4"></td></tr>
                        <tr>
                            <td class="title text-center" colspan="2">DAILY SALES</td>
                            <td class="title text-center" colspan="2">ACCUMULATIVE</td>
                        </tr>
                        <tr>
                            <td class="title" width="30%">DAILY SALES</td>
                            <td class="text" width="25%">@(item.DailySalesAmount == null || item.DailySalesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.DailySalesAmount).Replace(",", ""))))</td>

                            <td class="title" width="30%">Sales to be Considered</td>
                            <td class="text" width="25%">@(item.SalesToBeConsideredThreeLower == null || item.SalesToBeConsideredThreeLower == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.SalesToBeConsideredThreeLower).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title" width="25%">Working Days per Month</td>
                            <td class="text" width="20%"> @(item.NoOfWorkingDays == null || item.NoOfWorkingDays == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.NoOfWorkingDays).Replace(",", ""))))</td>

                            <td class="title" width="25%">Income Efficiency</td>
                            <td class="text" width="20%"> @(item.IncomeEfficiency == null || item.IncomeEfficiency == "" ? "0" : string.Format("{0:#,##0} %",  Int32.Parse((item.IncomeEfficiency).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title" width="30%">Monthly Sales</td>
                            <td class="text" width="25%">@(item.MonthlySales == null || item.MonthlySales == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.MonthlySales).Replace(",", ""))))</td>

                            <td class="title" width="25%">Sales To be Considered</td>
                            <td class="text" width="20%"> @(item.SalesToBeConsidered == null || item.SalesToBeConsidered == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.SalesToBeConsidered).Replace(",", ""))))</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        @if (ViewBag.PurD != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Purchase Details</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in ViewBag.PurD.PurchaseDetailChild)
                    {
                        <tr>
                            <th class="title text-left bg-gray" colspan="4">@item.BusinessName</th>
                        </tr>

                        <tr><td class="title text-center" colspan="4">Seasonal Purchases ( @item.AnalysisMonth.ToString("MMM yyyy") )</td></tr>
                        <tr>
                            <td colspan="4" style="padding:0px">
                                <table border="1" width="100%" style="text-align:center">
                                    <thead>
                                        <tr>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month1)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month2)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month3)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month4)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month5)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month6)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month7)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month8)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month9)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month10)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month11)
                                            </th>
                                            <th class="title">
                                                @string.Format("{0: MMM yyyy}", item.Month12)
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="text">@(item.Month1Purchases == null || item.Month1Purchases == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.Month1Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month2Purchases == null || item.Month2Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month2Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month3Purchases == null || item.Month3Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month3Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month4Purchases == null || item.Month4Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month4Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month5Purchases == null || item.Month5Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month5Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month6Purchases == null || item.Month6Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month6Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month7Purchases == null || item.Month7Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month7Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month8Purchases == null || item.Month8Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month8Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month9Purchases == null || item.Month9Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month9Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month10Purchases == null || item.Month10Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month10Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month11Purchases == null || item.Month11Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month11Purchases).Replace(",", ""))))</td>
                                            <td class="text">@(item.Month12Purchases == null || item.Month12Purchases == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.Month12Purchases).Replace(",", ""))))</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr><td class="title text-left bg-gray" colspan="4"></td></tr>
                        <tr><td class="title text-center" colspan="4">Product Wise Purchases</td></tr>
                        <tr>
                            @{ int counter = 1; }
                            <td colspan="4" style="padding:0px">
                                <table border="1" width="100%" style="text-align:center">
                                    <thead>
                                        <tr>
                                            <th class="title">
                                                Sr
                                            </th>
                                            <th class="title">
                                                Item Name
                                            </th>
                                            <th class="title">
                                                Per Unit Purchases Price
                                            </th>
                                            <th class="title">
                                                Monthly Purchase (Units)
                                            </th>
                                            <th class="title">
                                                Total Purchase
                                            </th>
                                        </tr>
                                    </thead>
                                    @if (item.PurchaseDetailGrandChild != null)
                                    {

                                        @if (item.PurchaseDetailGrandChild.Count > 0)
                                        {
                                            <tbody>
                                                @foreach (var child in item.PurchaseDetailGrandChild)
                                                {
                                                    <tr>
                                                        <td class="text">@(counter++)</td>
                                                        <td class="text">@(child.ItemName == null || child.ItemName == "" ? "--" : child.ItemName)</td>
                                                        <td style="text-align:right">@(child.PerUnitPurchasePrice == null || child.PerUnitPurchasePrice == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.PerUnitPurchasePrice).Replace(",", ""))))</td>
                                                        <td class="text">@(child.MonthlyPurchaseUnit == null || child.MonthlyPurchaseUnit == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.MonthlyPurchaseUnit).Replace(",", ""))))</td>
                                                        <td class="text" style="text-align:right">@(child.TotalPurchase == null || child.TotalPurchase == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((child.TotalPurchase).Replace(",", ""))))</td>
                                                    </tr>
                                                }
                                            </tbody>

                                        }
                                    }
                                    <tfoot>
                                        <tr>
                                            <td colspan="4" class="text-right title">
                                                Total
                                            </td>
                                            <td style="text-align:right" class="text">@(item.TotalMonthlyPurchase == null || item.TotalMonthlyPurchase == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.TotalMonthlyPurchase).Replace(",", ""))))</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </td>
                        </tr>
                        <tr><td class="title text-left bg-gray" colspan="4"></td></tr>
                        <tr>
                            <td class="title text-center" colspan="4">Tranche Purchase</td>
                        </tr>
                        <tr>
                            <td class="title" width="30%">Frequency</td>
                            <td class="title" width="25%">Amount</td>
                            <td class="title" style="text-align:center" width="25%">Purchase Frequency</td>
                            <td class="title" width="20%">Total</td>
                        </tr>
                        <tr>
                            <td class="title">Daily</td>
                            <td class="text" style="text-align:right">@(item.DailyPurchasesAmount == null || item.DailyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.DailyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.DailyPurchaseFrequency == null || item.DailyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.DailyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.DailyTotal == null || item.DailyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.DailyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title">Weekly</td>
                            <td class="text" style="text-align:right">@(item.WeeklyPurchasesAmount == null || item.WeeklyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.WeeklyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.WeeklyPurchaseFrequency == null || item.WeeklyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.WeeklyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.WeeklyTotal == null || item.WeeklyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.WeeklyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title">Fortnightly</td>
                            <td class="text" style="text-align:right">@(item.FortnightlyPurchasesAmount == null || item.FortnightlyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.FortnightlyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.FortnightlyPurchaseFrequency == null || item.FortnightlyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.FortnightlyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.FortnightlyTotal == null || item.FortnightlyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.FortnightlyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title">Monthly</td>
                            <td class="text" style="text-align:right">@(item.MonthlyPurchasesAmount == null || item.MonthlyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.MonthlyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.MonthlyPurchaseFrequency == null || item.MonthlyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.MonthlyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.MonthlyTotal == null || item.MonthlyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.MonthlyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title">Quaterly</td>
                            <td class="text" style="text-align:right">@(item.QuaterlyPurchasesAmount == null || item.QuaterlyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.QuaterlyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.QuaterlyPurchaseFrequency == null || item.QuaterlyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.QuaterlyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.QuaterlyTotal == null || item.QuaterlyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.QuaterlyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title">Semi-Annually</td>
                            <td class="text" style="text-align:right">@(item.SemiAnnuallyPurchasesAmount == null || item.SemiAnnuallyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.SemiAnnuallyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.SemiAnnuallyPurchaseFrequency == null || item.SemiAnnuallyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.SemiAnnuallyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.SemiAnnuallyTotal == null || item.SemiAnnuallyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.SemiAnnuallyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td class="title">Annually</td>
                            <td class="text" style="text-align:right">@(item.AnnuallyPurchasesAmount == null || item.AnnuallyPurchasesAmount == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.AnnuallyPurchasesAmount).Replace(",", ""))))</td>
                            <td class="text" style="text-align:center">@(item.AnnuallyPurchaseFrequency == null || item.AnnuallyPurchaseFrequency == "" ? "0" : string.Format("{0:#,##0}",  decimal.Parse((item.AnnuallyPurchaseFrequency).Replace(",", ""))))</td>
                            <td class="text" style="text-align:right">@(item.AnnuallyTotal == null || item.AnnuallyTotal == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.AnnuallyTotal).Replace(",", ""))))</td>
                        </tr>
                        <tr>
                            <td colspan="3" class="text-right title">Total Monthly Purchase</td>
                            <td class="text" style="text-align:right">@(item.TotalMonthlyPurchaseTranche == null || item.TotalMonthlyPurchaseTranche == "" ? "0" : string.Format("{0:#,##0}",  Int32.Parse((item.TotalMonthlyPurchaseTranche).Replace(",", ""))))</td>
                        </tr>
                    }
                </tbody>
            </table>


        }
        @if (ViewBag.NAI.isNonAssociatedIncome != "NO")
        {

            <table border="1" width="100%" class="tbl">

                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Other INCOME Details</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.NAI.NonAssociatedIncomeChilds != null)
                    {

                        @if (ViewBag.NAI.NonAssociatedIncomeChilds.Count > 0)
                        {

                            @foreach (var item in ViewBag.NAI.NonAssociatedIncomeChilds)
                            {



                                <tr>
                                    <td class="title" width="30%">
                                        Other Occupation
                                    </td>
                                    <td class="text" width="25%">@(item.OtherOccupationName == null || item.OtherOccupationName == "" ? "--" : item.OtherOccupationName)</td>

                                    <td class="title" width="25%">
                                        Other
                                    </td>
                                    <td class="text" width="20%">@(item.OtherOccupationOthers == null || item.OtherOccupationOthers == "" ? "--" : item.OtherOccupationOthers)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Source Of Income
                                    </td>
                                    <td class="text">@(item.SourceOfIncomeName == null || item.SourceOfIncomeName == "" ? "--" : item.SourceOfIncomeName)</td>

                                    <td class="title">
                                        Others
                                    </td>
                                    <td class="text">@(item.SourceOfIncomeOthers == null || item.SourceOfIncomeOthers == "" ? "--" : item.SourceOfIncomeOthers)</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Documentary Proof
                                    </td>
                                    @if (item.DocumentProof == null)
                                    {
                                        <td class="text">N/A</td>
                                    }
                                    else if (item.DocumentProof == false)
                                    {
                                        <td class="text">No</td>
                                    }
                                    else if (item.DocumentProof == true)
                                    {
                                        <td class="text">Yes</td>
                                    }

                                    <td class="title">
                                        Actual Revenue
                                    </td>
                                    <td class="text">@(item.ActualRevenue == null || item.ActualRevenue == "" ? "--" : string.Format("{0:#,###}", Int32.Parse((item.ActualRevenue).Replace(",",""))))</td>
                                </tr>
                                <tr>
                                    <td class="title">
                                        Considered %age
                                    </td>
                                    <td class="text">@(item.ConsideredPercentage == null || item.ConsideredPercentage == "" ? "--" : item.ConsideredPercentage)</td>

                                    <td class="title">
                                        Considered Amount
                                    </td>
                                    <td class="text">@(item.ConsideredAmount == null || item.ConsideredAmount == "" || item.ConsideredAmount == "0" ? "0" : string.Format("{0:#,###}", Int32.Parse((item.ConsideredAmount).Replace(",",""))))</td>
                                </tr>


                                <tr>
                                    <td class="title text-left bg-gray" colspan="4"></td>
                                </tr>
                            }

                        }

                    }
                    <tr>
                        <td class="title" width="30%">Grand Total Non Associated Income</td>
                        <td class="text" width="25%">@(ViewBag.NAI.TotalNonAssociatedIncome == null || ViewBag.NAI.TotalNonAssociatedIncome == "" || ViewBag.NAI.TotalNonAssociatedIncome == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.NAI.TotalNonAssociatedIncome).Replace(",",""))))</td>
                        <td width="25%"></td>
                        <td width="20%"></td>
                    </tr>
                </tbody>
            </table>
        }
        @if (ViewBag.BE != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Business Expense</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.BE.TDSBusinessExpenseChild.Count > 0)
                    {
                        @foreach (var item in ViewBag.BE.TDSBusinessExpenseChild)
                        {
                            <tr>
                                <th class="title text-left bg-gray" colspan="4">@item.BusinessName</th>
                            </tr>
                            @if (item.TDSBusinessExpenseGrandChilds.Count > 0)
                            {
                                <tr>
                                    <th class="title" width="30%">Employee Name</th>
                                    <th class="title" width="25%">Designation</th>
                                    <th class="title" width="25%">Gender</th>
                                    <th class="title" width="20%">Salary</th>
                                </tr>

                                @foreach (var schoolClass in item.TDSBusinessExpenseGrandChilds)
                                {
                                    <tr>
                                        <td class="text">@(schoolClass.EmployerName == null || schoolClass.EmployerName == "" ? "--" : schoolClass.EmployerName)</td>
                                        <td class="text">@(schoolClass.Designation == null || schoolClass.Designation == "" ? "--" : schoolClass.Designation)</td>
                                        <td class="text">@(schoolClass.Gender == null || schoolClass.Gender == "" ? "--" : schoolClass.Gender)</td>
                                        <td class="text" style="text-align:right">@(schoolClass.Salary == null || schoolClass.Salary == "" ? "--" : string.Format("{0:#,##0}", Int32.Parse((schoolClass.Salary).Replace(",", ""))))</td>
                                    </tr>
                                }
                                <tr>
                                    <td colspan="3" class="title">
                                        Total
                                    </td>
                                    <td class="text" style="text-align:right">@(item.TotalSalary == null || item.TotalSalary == "" ? "0" : string.Format("{0:#,##0}", Int32.Parse((item.TotalSalary).Replace(",", ""))))</td>
                                </tr>
                            }

                            <tr>
                                <td class="title" widtd="30%">Purchases</td>
                                <td class="text" widtd="25%">@(item.Purchases == null || item.Purchases == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Purchases).Replace(",",""))))</td>
                                <td class="title" widtd="25%">Staff Salary</td>
                                <td class="text" widtd="20%">@(item.StaffSalary == null || item.StaffSalary == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.StaffSalary).Replace(",",""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Rent Amount</td>
                                <td class="text">@(item.RentAmount == null || item.RentAmount == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.RentAmount).Replace(",",""))))</td>
                                <td class="title">Utilities</td>
                                <td class="text">@(item.Utilities == null || item.Utilities == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Utilities).Replace(",",""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Entertainment</td>
                                <td class="text">@(item.Entertainment == null || item.Entertainment == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Entertainment).Replace(",",""))))</td>
                                <td class="title">Utilities</td>
                                <td class="text">@(item.RepairMaintenance == null || item.RepairMaintenance == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.RepairMaintenance).Replace(",",""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Transportation</td>
                                <td class="text">@(item.Transportation == null || item.Transportation == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Transportation).Replace(",",""))))</td>
                                <td class="title">Carriage</td>
                                <td class="text">@(item.Carriage == null || item.Carriage == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Carriage).Replace(",",""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Committee</td>
                                <td class="text">@(item.Committee == null || item.Committee == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Committee).Replace(",",""))))</td>
                                <td class="title">Utilities</td>
                                <td class="text">@(item.Tax == null || item.Tax == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Tax).Replace(",",""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Internet Charges</td>
                                <td class="text">@(item.Internet == null || item.Internet == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Internet).Replace(",",""))))</td>
                                <td class="title">Other Expenses</td>
                                <td class="text">@(item.OtherExpenses == null || item.OtherExpenses == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.OtherExpenses).Replace(",",""))))</td>
                            </tr>

                            <tr class="@(item.OtherExpenseLabelOne == "" || item.OtherExpenseLabelOne == null ? "d-none" : "")">
                                <td class="title">
                                    @item.OtherExpenseLabelOne
                                </td>
                                <td class="text" colspan="3">@(item.OtherExpenseValueOne == null || item.OtherExpenseValueOne == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.OtherExpenseValueOne).Replace(",",""))))</td>
                            </tr>

                            <tr class="@(item.OtherExpenseLabelTwo == "" || item.OtherExpenseLabelTwo == null ? "d-none" : "" )">
                                <td class="title">
                                    @item.OtherExpenseLabelTwo
                                </td>
                                <td class="text" colspan="3">@(item.OtherExpenseValueTwo == null || item.OtherExpenseValueTwo == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.OtherExpenseValueTwo).Replace(",",""))))</td>
                            </tr>

                            <tr class="@(item.OtherExpenseLabelThree == "" || item.OtherExpenseLabelThree == null ? "d-none" : "" )">
                                <td class="title">
                                    @item.OtherExpenseLabelThree
                                </td>
                                <td class="text" colspan="3">@(item.OtherExpenseValueThree == null || item.OtherExpenseValueThree == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.OtherExpenseValueThree).Replace(",",""))))</td>
                            </tr>


                            <tr>
                                <td class="title">
                                    Total Monthly Expenses
                                </td>
                                <td class="text">@(item.TotalMonthlyExpenses == null || item.TotalMonthlyExpenses == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.TotalMonthlyExpenses).Replace(",",""))))</td>

                                <td class="title">
                                    Provision of Expenses
                                </td>
                                <td class="text">@(item.ProvisionOfExpenses == null || item.ProvisionOfExpenses == ""  ? "--" : string.Format("{0:#,##0.##}", Decimal.Parse((item.ProvisionOfExpenses).Replace(",",""))))</td>
                            </tr>

                            <tr>
                                <td class="title">Amount of Provision</td>
                                <td class="text">@(item.AmountOfProvision == null || item.AmountOfProvision == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.AmountOfProvision).Replace(",",""))))</td>
                                <td class="title">
                                    Monthly Business Expenses
                                </td>
                                <td class="text">@(item.MonthlyBusinessExpenses == null || item.MonthlyBusinessExpenses == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MonthlyBusinessExpenses).Replace(",",""))))</td>
                            </tr>
                        }
                    }
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title text-right" colspan="3">Grand Total Business Expenses</td>
                        <td class="text" width="25%">@(ViewBag.BE.NetMonthlyBusinessExpense == null || ViewBag.BE.NetMonthlyBusinessExpense == "" || ViewBag.BE.NetMonthlyBusinessExpense == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.BE.NetMonthlyBusinessExpense).Replace(",",""))))</td>
                    </tr>
                </tbody>
            </table>
        }
        @if (ViewBag.HE != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">HOUSEHOLD EXPENSES</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.HE.CreateHouseholdIncomes != null)
                    {

                        @foreach (var item in ViewBag.HE.CreateHouseholdIncomes)
                        {
                            <tr>
                                <td class="title">HOUSEHold Owner Name</td>
                                <td class="text">@(item.HouseholdOwnerName == null || item.HouseholdOwnerName == "0" ? "--" : item.HouseholdOwnerName)</td>

                                <td class="title">HOUSE RENT</td>
                                <td class="text">@(item.HouseRent == null || item.HouseRent == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.HouseRent).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">FOOD EXPENSE</td>
                                <td class="text">@(item.Food == null || item.Food == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Food).Replace(",", ""))))</td>

                                <td class="title">UTILITIES</td>
                                <td class="text">@(item.Utilities == null || item.Utilities == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Utilities).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">
                                    Clothing Expense
                                </td>
                                <td class="text">@(item.Clothing == null || item.Clothing == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Clothing).Replace(",", ""))))</td>

                                <td class="title">
                                    Medical Expense
                                </td>
                                <td class="text">@(item.Medical == null || item.Medical == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Medical).Replace(",", ""))))</td>
                            </tr>

                            <tr>
                                <td class="title">Monthly EI Fee</td>
                                <td class="text">@(item.MonthlyEIfee== null || item.MonthlyEIfee == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MonthlyEIfee).Replace(",", ""))))</td>

                                <td class="title">Monthly Tution Fee</td>
                                <td class="text">@(item.MonthlyTuitionfee== null || item.MonthlyTuitionfee == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MonthlyTuitionfee).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Monthly Qari Fee</td>
                                <td class="text">@(item.MonthlyQarifee== null || item.MonthlyQarifee == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.MonthlyQarifee).Replace(",", ""))))</td>

                                <td class="title">Van/Transportation of Dependents</td>
                                <td class="text">@(item.VanTransportationOfDependents== null || item.VanTransportationOfDependents == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.VanTransportationOfDependents).Replace(",", ""))))</td>
                            </tr>
                            @*<tr>
                    <td class="title">EDUCATIONAL Expense</td>
                    <td class="text">@(item.Educational == null || item.Educational == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Educational).Replace(",", ""))))</td>
                </tr>*@
                            <tr>
                                <td class="title">Other Educational Expenses</td>
                                <td class="text">@(item.OtherEducationalExpenses== null || item.OtherEducationalExpenses == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.OtherEducationalExpenses).Replace(",", ""))))</td>

                                <td class="title">Household Transportation</td>
                                <td class="text">@(item.HouseHoldTransportation== null || item.HouseHoldTransportation == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.HouseHoldTransportation).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">COMMITTEE</td>
                                <td class="text">@(item.CommitteeInstallment == null || item.CommitteeInstallment == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.CommitteeInstallment).Replace(",", ""))))</td>

                                <td class="title">REPAIR & MAINTENANCE</td>
                                <td class="text">@(item.RepairAndMentinence == null || item.RepairAndMentinence == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.RepairAndMentinence).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">
                                    Internet Charges
                                </td>
                                <td class="text">@(item.Internet == null || item.Internet == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.Internet).Replace(",", ""))))</td>

                                <td class="title">
                                    Loan Installment
                                </td>
                                <td class="text">@(item.LoanInstallment == null || item.LoanInstallment == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.LoanInstallment).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">OTHER EXPENSES</td>
                                <td class="text">@(item.OtherHouseholdExpenses == null || item.OtherHouseholdExpenses == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.OtherHouseholdExpenses).Replace(",", ""))))</td>
                                <td></td>
                                <td></td>
                            </tr>

                            <tr class="@(item.AdditionalFieldLabel1 == "" || item.AdditionalFieldLabel1 == null ? "d-none" : "")">
                                <td class="title">
                                    @item.AdditionalFieldLabel1
                                </td>
                                <td class="text">@(item.AdditionalFieldValue1 == null || item.AdditionalFieldValue1 == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.AdditionalFieldValue1).Replace(",",""))))</td>
                            </tr>

                            <tr class="@(item.AdditionalFieldLabel2 == "" || item.AdditionalFieldLabel2 == null ? "d-none" : "" )">
                                <td class="title">
                                    @item.AdditionalFieldLabel2
                                </td>
                                <td class="text">@(item.AdditionalFieldValue2 == null || item.AdditionalFieldValue2 == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.AdditionalFieldValue2).Replace(",",""))))</td>
                            </tr>

                            <tr class="@(item.AdditionalFieldLabel3 == "" || item.AdditionalFieldLabel3 == null ? "d-none" : "" )">
                                <td class="title">
                                    @item.AdditionalFieldLabel3
                                </td>
                                <td class="text">@(item.AdditionalFieldValue3 == null || item.AdditionalFieldValue3 == ""  ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.AdditionalFieldValue3).Replace(",",""))))</td>
                            </tr>

                            <tr>
                                <td class="title">Total Monthly Expense</td>
                                <td class="text">@(item.TotalHouseHoldExpense == null || item.TotalHouseHoldExpense == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.TotalHouseHoldExpense).Replace(",", ""))))</td>
                          
                                <td class="title">PROVISIONAL of EXPENSES (10%)</td>
                                <td class="text">@(item.ProvisionalHouseholdExpenses == null || item.ProvisionalHouseholdExpenses == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.ProvisionalHouseholdExpenses).Replace(",", ""))))</td>
                            </tr>
                            <tr>
                                <td class="title">Net Monthly Expense</td>
                                <td class="text">@(item.NetTotal == null || item.NetTotal == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((item.NetTotal).Replace(",", ""))))</td>
                            </tr>

                            <tr>
                                <td class="title text-left bg-gray" colspan="4"></td>
                            </tr>
                        }


                    }
                    <tr>
                        <td width="30%"></td>
                        <td width="25%"></td>
                        <td class="title" width="25%">Grand Total Household Expenses</td>
                        <td class="text" width="20%" style="font-weight:bold">@(ViewBag.HE.totalHouseHoldIncomeExpense == null || ViewBag.HE.totalHouseHoldIncomeExpense == "" || ViewBag.HE.totalHouseHoldIncomeExpense == "0" ? "--" : string.Format("{0:#,##0}", Int32.Parse((ViewBag.HE.totalHouseHoldIncomeExpense).Replace(",",""))))</td>
                    </tr>
                </tbody>
            </table>
        }
        @if (ViewBag.LE != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Loan Eligibility</th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <td class="title" width="30%">loan amount requried</td>
                        <td class="text" width="25%">@(ViewBag.LE.LoanAmountRequried == null || ViewBag.LE.LoanAmountRequried == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.LoanAmountRequried)))</td>

                        <td class="title" width="25%">loan Tenure requested</td>
                        <td class="text" width="20%">@(ViewBag.LE.LoanTenureRequested == null || ViewBag.LE.LoanTenureRequested == ""  ? "--" : string.Format("{0:#,##0}", decimal.Parse(ViewBag.LE.LoanTenureRequested)))</td>
                    </tr>
                    <tr>
                        <td class="title">number of installment(s) per year</td>
                        <td class="text">@(ViewBag.LE.NuOfInstallmentPerYear == null || ViewBag.LE.NuOfInstallmentPerYear == ""  ? "--" : string.Format("{0:#,##0}", decimal.Parse(ViewBag.LE.NuOfInstallmentPerYear)))</td>

                        <td class="title">mark-up (%)</td>
                        <td class="text">@(ViewBag.LE.Mark_Up == null || ViewBag.LE.Mark_Up == ""  ? "--" : string.Format("{0:#,##0.##}%", decimal.Parse(ViewBag.LE.Mark_Up)))</td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Monthly Business Sales
                        </td>
                        <td class="text">@(ViewBag.LE.MonthlyBusinessSale == null || ViewBag.LE.MonthlyBusinessSale == ""  ? "--" : string.Format("{0:#,##0}", decimal.Parse(ViewBag.LE.MonthlyBusinessSale)))</td>
                        <td class="title">
                            Sharing %age
                        </td>
                        @*@{ ViewBag.LE.SchoolSharingPercentage = "50";}*@
                        <td class="text">@(ViewBag.LE.MonthlyBusinessSaleSharingPercentage == null || ViewBag.LE.MonthlyBusinessSaleSharingPercentage == ""  ? "--" : string.Format("{0:#,##0.##}%", decimal.Parse(ViewBag.LE.MonthlyBusinessSaleSharingPercentage)))</td>
                    </tr>
                    <tr>
                        <td class="title text-bold">
                            Considered Monthly Business Sales
                        </td>
                        <td class="text">@(ViewBag.LE.MonthlyBusinessSaleConsidered == null || ViewBag.LE.MonthlyBusinessSaleConsidered == ""  ? "--" : string.Format("{0:#,##0}", decimal.Parse(ViewBag.LE.MonthlyBusinessSaleConsidered)))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title text-bold">
                            Monthly Expenses
                        </td>
                        <td class="text">@(ViewBag.LE.MonthlyBusinessExpenses == null || ViewBag.LE.MonthlyBusinessExpenses == ""  ? "--" : string.Format("{0:#,##0}", decimal.Parse(ViewBag.LE.MonthlyBusinessExpenses)))</td>

                        <td class="title">
                            Sharing %age
                        </td>
                        @*@{ ViewBag.LE.SchoolSharingPercentage = "50";}*@
                        <td class="text">@(ViewBag.LE.MonthlyBusinessExpensesSharingPercentage == null || ViewBag.LE.MonthlyBusinessExpensesSharingPercentage == ""  ? "--" : string.Format("{0:#,##0.##}%", decimal.Parse(ViewBag.LE.MonthlyBusinessExpensesSharingPercentage)))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Considered Monthly Expenses
                        </td>
                        <td class="text">@(ViewBag.LE.MonthlyBusinessExpensesConsidered == null || ViewBag.LE.MonthlyBusinessExpensesConsidered == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.MonthlyBusinessExpensesConsidered)))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Monthly Income
                        </td>
                        @*@{ ViewBag.LE.AcademySharingPercentage = "50";}*@
                        <td class="text">@(ViewBag.LE.MonthlyIncome == null || ViewBag.LE.MonthlyIncome == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.MonthlyIncome)))</td>

                        <td class="title text-bold">
                            Other Income
                        </td>
                        <td class="text">@(ViewBag.LE.OtherIncome == null || ViewBag.LE.OtherIncome == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.OtherIncome)))</td>
                    </tr>
                    <tr>
                        <td class="title text-bold">
                            Gross Business Income
                        </td>
                        <td class="text">@(ViewBag.LE.GrossBusinessIncome == null || ViewBag.LE.GrossBusinessIncome == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.GrossBusinessIncome)))</td>
                   <td></td>
                   <td></td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title">
                            Monthly Exposure
                        </td>
                        <td class="text">@(ViewBag.LE.MonthlyExposure == null || ViewBag.LE.MonthlyExposure == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.MonthlyExposure)))</td>

                        <td class="title">
                            Net Business Income
                        </td>
                        <td class="text">@(ViewBag.LE.NetBusinessIncome == null || ViewBag.LE.NetBusinessIncome == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.NetBusinessIncome)))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Household Expenses
                        </td>
                        <td class="text">@(ViewBag.LE.HouseholdExpenses == null || ViewBag.LE.HouseholdExpenses == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.HouseholdExpenses)))</td>
                        <td class="title text-bold">
                            Max Income for TFCL Payment
                        </td>
                        <td class="text">@(ViewBag.LE.MaxIncomeForTfclPayment == null || ViewBag.LE.MaxIncomeForTfclPayment == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.MaxIncomeForTfclPayment)))</td>

                    </tr>

                    <tr>

                        <td class="title text-bold">
                            TFCL EMI Payment
                        </td>
                        <td class="text">@(ViewBag.LE.TfclEmiPayment == null || ViewBag.LE.TfclEmiPayment == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.TfclEmiPayment)))</td>
                        <td class="title text-bold">
                            Instalment Ratio (%)
                        </td>
                        <td class="text">@(ViewBag.LE.InstallmentRatio == null || ViewBag.LE.InstallmentRatio == ""  ? "--" : string.Format("{0:#,##0.##}%", decimal.Parse(ViewBag.LE.InstallmentRatio)))</td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title text-bold">
                            All Collaterals Market Price
                        </td>
                        <td class="text">@(ViewBag.LE.CollateralValue == null || ViewBag.LE.CollateralValue == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.CollateralValue)))</td>
                        <td class="title">
                            Actual LTV %age
                        </td>
                        <td class="text">@(ViewBag.LE.ActualLtvPercentage == null || ViewBag.LE.ActualLtvPercentage == ""  ? "--" : string.Format("{0:#,##0.##} %", decimal.Parse(ViewBag.LE.ActualLtvPercentage)))</td>
                    </tr>
                    <tr>
                        <td class="title">
                            Max Financing Allowed 
                        </td>
                        <td class="text">@(ViewBag.LE.MaxFinancingAllowedLTV == null || ViewBag.LE.MaxFinancingAllowedLTV == ""  ? "--" : string.Format("{0:#,##0.##}", decimal.Parse(ViewBag.LE.MaxFinancingAllowedLTV)))</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="title text-left bg-gray" colspan="4"></td>
                    </tr>
                    <tr>
                        <td class="title text-bold">
                            Loan Eligibility Status On EMI
                        </td>

                        @if (ViewBag.LE.LoanEligibilityStatusOnEMI == null || ViewBag.LE.LoanEligibilityStatusOnEMI == "")
                        {
                            <td class="text">N/A</td>
                        }
                        else if (ViewBag.LE.LoanEligibilityStatusOnEMI == "Eligible")
                        {
                            <td class="text text-green"> &#10004; ELIGIBLE</td>
                        }
                        else if (ViewBag.LE.LoanEligibilityStatusOnEMI == "Not Eligible")
                        {
                            <td class="text text-red"> &#10008; NOT ELIGIBLE</td>
                        }

                        <td class="title text-bold">
                            Loan Eligibility Status On LTV
                        </td>

                        @if (ViewBag.LE.LoanEligibilityStatusOnLTV == null || ViewBag.LE.LoanEligibilityStatusOnLTV == "")
                        {
                            <td class="text">N/A</td>
                        }
                        else if (ViewBag.LE.LoanEligibilityStatusOnLTV == "Eligible")
                        {
                            <td class="text text-green"> &#10004; ELIGIBLE</td>
                        }
                        else if (ViewBag.LE.LoanEligibilityStatusOnLTV == "Not Eligible")
                        {
                            <td class="text text-red"> &#10006; NOT ELIGIBLE</td>
                        }
                    </tr>
                </tbody>
            </table>
        }
        @if (ViewBag.BAD != null)
        {

            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">BANK ACCOUNT DETAILS</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.BAD != null)
                    {

                        @foreach (var item in ViewBag.BAD)
                        {
                            <tr>
                                <td class="title text-left bg-gray" colspan="4">@item.BankFullName</td>
                            </tr>
                            <tr>
                                <td class="title" width="30%">BANK NAME</td>
                                <td class="text" width="25%">@(item.BankFullName == null || item.BankFullName == "" ? "--" : item.BankFullName)</td>
                                <td class="title" width="25%">BRANCH NAME</td>
                                <td class="text" width="20%">@(item.BranchName == null || item.BranchName == "" ? "--" : item.BranchName)</td>
                            </tr>
                            <tr>
                                <td class="title">ACCOUNT TITLE</td>
                                <td class="text">@(item.AccountTitle == null || item.AccountTitle == "" ? "--" : item.AccountTitle)</td>

                                <td class="title">ACCOUNT NUMBER</td>
                                <td class="text">@(item.AccountNumber == null || item.AccountNumber == "" ? "--" : item.AccountNumber)</td>
                            </tr>
                            <tr>
                                <td class="title">Account Maintained</td>
                                <td class="text">@string.Format("{0:MMM yyyy}", item.AccountMaintained)</td>

                                <td class="title">Analysis Month</td>
                                <td class="text">@string.Format("{0:MMM yyyy}", item.AnalysisMonth)</td>
                            </tr>

                            @foreach (var values in item.BankAccountChilds)
                            {

                                <tr>
                                    <td colspan="4" class="title text-center">@values.MonthName</td>
                                </tr>

                                <tr>
                                    <td colspan="2" class="title text-center">Lowest Balance</td>
                                    <td colspan="2" class="title text-center">Highest Balance</td>
                                </tr>
                                <tr>
                                    <td class="text" style="text-align:center">@(values.LowestBalanceDate1 == null ? "--" : string.Format("{0:dd MMM yyyy}", values.LowestBalanceDate1))</td>
                                    <td class="text" style="text-align:right">@(values.LowestBalance1 == null || values.LowestBalance1 == "" || values.LowestBalance1 == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.LowestBalance1)))</td>
                                    <td class="text" style="text-align:center">@(values.HighestBalanceDate1 == null ? "--" : string.Format("{0:dd MMM yyyy}", values.HighestBalanceDate1))</td>
                                    <td class="text" style="text-align:right">@(values.HighestBalance1 == null || values.HighestBalance1 == "" || values.HighestBalance1 == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.HighestBalance1)))</td>
                                </tr>
                                <tr>
                                    <td class="text" style="text-align:center">@(values.LowestBalanceDate2 == null ? "--" : string.Format("{0:dd MMM yyyy}", values.LowestBalanceDate2))</td>
                                    <td class="text" style="text-align:right">@(values.LowestBalance2 == null || values.LowestBalance2 == "" || values.LowestBalance2 == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.LowestBalance2)))</td>
                                    <td class="text" style="text-align:center">@(values.HighestBalanceDate2 == null ? "--" : string.Format("{0:dd MMM yyyy}", values.HighestBalanceDate2))</td>
                                    <td class="text" style="text-align:right">@(values.HighestBalance2 == null || values.HighestBalance2 == "" || values.HighestBalance2 == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.HighestBalance2)))</td>
                                </tr>
                                <tr>
                                    <td class="text" style="text-align:center">@(values.LowestBalanceDate3 == null ? "--" : string.Format("{0:dd MMM yyyy}", values.LowestBalanceDate3))</td>
                                    <td class="text" style="text-align:right">@(values.LowestBalance3 == null || values.LowestBalance3 == "" || values.LowestBalance3 == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.LowestBalance3)))</td>
                                    <td class="text" style="text-align:center">@(values.HighestBalanceDate3 == null ? "--" : string.Format("{0:dd MMM yyyy}", values.HighestBalanceDate3))</td>
                                    <td class="text" style="text-align:right">@(values.HighestBalance3 == null || values.HighestBalance3 == "" || values.HighestBalance3 == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.HighestBalance3)))</td>
                                </tr>
                                <tr>
                                    <td class="title">Avg. Lowest Balance</td>
                                    <td class="text" style="text-align:right">@(values.avgLowestBalance == null || values.avgLowestBalance == "" || values.avgLowestBalance == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.avgLowestBalance)))</td>

                                    <td class="title">Avg. Highest Balance</td>
                                    <td class="text" style="text-align: right">@(values.avgHighestBalance == null || values.avgHighestBalance == "" || values.avgLowestBalance == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.avgHighestBalance)))</td>
                                </tr>
                                <tr>
                                    <td class="title">Overall Avg. Balance</td>
                                    <td class="text" style="text-align:right">@(values.OverallAvgBalance == null || values.OverallAvgBalance == "" || values.OverallAvgBalance == "0" ? "--" : string.Format("{0:#,###}", Decimal.Parse(values.OverallAvgBalance)))</td>

                                    <td class="title">ABB to EMI</td>
                                    <td class="text">@(values.AbbToEMI == null || values.AbbToEMI == "" || values.AbbToEMI == "0.0" ? "--" : string.Format("{0:#,###}%", Decimal.Parse(values.AbbToEMI)))</td>
                                </tr>
                            }



                        }


                    }
                </tbody>

            </table>
        }
        @if (ViewBag.CoD.Count > 0)
        {

            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Co-Applicant DETAILS</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.COD != null)
                    {

                        @foreach (var item in ViewBag.COD)
                        {

                            <tr>
                                <td class="title" width="30%">FULL NAME</td>
                                <td class="text" width="25%" colspan="2">@(item.FullName == null || item.FullName == "" ? "--" : item.FullName)</td>
                                <td rowspan="8"><img src="@item.imageUrl" width="100%" height="185px" style="border:2px solid" /></td>

                            </tr>
                            <tr>
                                <td class="title" width="25%">S/O D/O W/O</td>
                                <td class="text" width="20%" colspan="2">@(item.SDW == null || item.SDW == "" ? "--" : item.SDW)</td>
                            </tr>
                            <tr>
                                <td class="title">CNIC Number</td>
                                <td class="text" colspan="2">@(item.CNICNumber == null || item.CNICNumber == "" ? "--" : item.CNICNumber)</td>
                            </tr>
                            <tr>
                                <td class="title">CNIC Expiry Date</td>
                                <td class="text" colspan="2">@string.Format("{0:dd MMM yyyy}", item.CnicExpiryDate)</td>
                            </tr>
                            <tr>
                                <td class="title">
                                    Date of Birth
                                </td>
                                <td class="text" colspan="2">@string.Format("{0:dd MMM yyyy}", item.DateOfBirth)</td>
                            </tr>
                            <tr>
                                <td class="title">Age</td>
                                <td class="text" colspan="2">@(item.Age == null || item.Age == "" ? "--" : item.Age)</td>
                            </tr>
                            <tr>
                                <td class="title">permanent ADDRESS</td>
                                <td class="text" colspan="2">@(item.PresentAddress == null || item.PresentAddress == "" ? "--" : item.PresentAddress)</td>
                            </tr>
                            <tr>

                                <td class="title">MOUZA / TOWN</td>
                                <td class="text" colspan="2">@(item.MouzaOrTown == null || item.MouzaOrTown == "" ? "--" : item.MouzaOrTown)</td>
                            </tr>
                            <tr>
                                <td class="title" width="30%">Union Council</td>
                                <td class="text" width="25%">@(item.UCNumber == null || item.UCNumber == "" ? "--" : item.UCNumber)</td>

                                <td class="title" width="25%">TEHSIL</td>
                                <td class="text" width="20%">@(item.Tehsil == null || item.Tehsil == "" ? "--" : item.Tehsil)</td>
                            </tr>
                            <tr>
                                <td class="title">DISTRICT</td>
                                <td class="text">@(item.District == null || item.District == "" ? "--" : item.District)</td>

                                <td class="title">PROVINCE</td>
                                <td class="text">@(item.Province == null || item.Province == "" ? "--" : item.Province)</td>
                            </tr>
                            <tr>
                                <td class="title">RELATION WITH APPLICANT</td>
                                <td class="text">@(item.RealtionshipWithApplicant == null || item.RealtionshipWithApplicant == "" ? "--" : item.RealtionshipWithApplicant)</td>

                                <td class="title">MOBILE Number</td>
                                <td class="text">@(item.MobileNumber == null || item.MobileNumber == "" ? "--" : item.MobileNumber)</td>
                            </tr>

                            <tr>
                                <td class="title">
                                    Credit Bureau Check
                                </td>
                                @if (item.CreditBureauCheck == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.CreditBureauCheck == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.CreditBureauCheck == true)
                                {
                                    <td class="text">YES</td>
                                }

                                <td class="title">
                                    Credit Bureau Status
                                </td>
                                <td class="text">@(item.CreditBureauStatusName == null || item.CreditBureauStatusName == "" ? "--" : item.CreditBureauStatusName)</td>
                            </tr>
                            <tr>
                                <td class="title">
                                    AML/CFT Check
                                </td>
                                @if (item.AmlCftCheck == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.AmlCftCheck == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.AmlCftCheck == true)
                                {
                                    <td class="text">YES</td>
                                }

                                <td class="title">
                                    AML/CFT Clearance
                                </td>
                                @if (item.AmlCftClearance == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.AmlCftClearance == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.AmlCftClearance == true)
                                {
                                    <td class="text">YES</td>
                                }
                            </tr>

                            <tr>
                                <td class="title">
                                    Have you guaranteed loan from any FI
                                </td>
                                @if (item.isGuarenteedLoanFi == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.isGuarenteedLoanFi == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.isGuarenteedLoanFi == true)
                                {
                                    <td class="text">YES</td>
                                }

                                <td class="title">
                                    Guarantee Amount
                                </td>
                                <td class="text">@(item.guarenteedAmountFi == null || item.guarenteedAmountFi == "" || item.guarenteedAmountFi == "0" ? "--" : Convert.ToDecimal(item.guarenteedAmountFi).ToString("#,###"))</td>
                            </tr>
                            <tr>
                                <td class="title">BUSINESS NAME</td>
                                <td class="text">@(item.BusinessName == null || item.BusinessName == "" ? "--" : item.BusinessName)</td>

                                <td class="title">PROFESSION</td>
                                <td class="text">@(item.Profession == null || item.Profession == "" ? "--" : item.Profession)</td>
                            </tr>

                            <tr>
                                <td class="title">BUSINESS ADDRESS</td>
                                <td class="text">@(item.BusinessAddress == null || item.BusinessAddress == "" ? "--" : item.BusinessAddress)</td>

                                <td class="title">EMPLOYER NAME</td>
                                <td class="text">@(item.EmployerName == null || item.EmployerName == "" ? "--" : item.EmployerName)</td>
                            </tr>

                            <tr>
                                <td colspan="4" class="title text-center bg-gray"></td>
                            </tr>

                        }


                    }
                </tbody>

            </table>

        }
        @if (ViewBag.GD.Count > 0 != null)
        {

            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Guarantor DETAILS</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.GD != null)
                    {

                        @foreach (var item in ViewBag.GD)
                        {

                            <tr>
                                <td class="title" width="30%">FULL NAME</td>
                                <td class="text" width="25%" colspan="2">@(item.FullName == null || item.FullName == "" ? "--" : item.FullName)</td>

                                <td rowspan="8"><img src="@item.imageUrl" width="100%" height="185px" style="border:2px solid" /></td>
                            </tr>
                            <tr>
                                <td class="title">S/O D/O W/O</td>
                                <td class="text" width="20%" colspan="2">@(item.SDW == null || item.SDW == "" ? "--" : item.SDW)</td>
                            </tr>
                            <tr>

                                <td class="title">CNIC Number</td>
                                <td class="text" colspan="2">@(item.CNICNumber == null || item.CNICNumber == "" ? "--" : item.CNICNumber)</td>

                            </tr>
                            <tr>
                                <td class="title">CNIC Expiry Date</td>
                                <td class="text" colspan="2">@string.Format("{0:dd MMM yyyy}", item.CnicExpiryDate)</td>

                            </tr>
                            <tr>
                                <td class="title">
                                    Date of Birth
                                </td>
                                <td class="text" colspan="2">@string.Format("{0:dd MMM yyyy}", item.DateOfBirth)</td>
                            </tr>
                            <tr>
                                <td class="title">Age</td>
                                <td class="text" colspan="2">@(item.CalculatedAge == null || item.CalculatedAge == "" ? "--" : item.CalculatedAge)</td>
                            </tr>
                            <tr>
                                <td class="title">permanent ADDRESS</td>
                                <td class="text" colspan="2">@(item.PresentAddress == null || item.PresentAddress == "" ? "--" : item.PresentAddress)</td>
                            </tr>
                            <tr>

                                <td class="title">MOUZA / TOWN</td>
                                <td class="text" colspan="2">@(item.MouzaOrTown == null || item.MouzaOrTown == "" ? "--" : item.MouzaOrTown)</td>
                            </tr>
                            <tr>
                                <td class="title" width="30%">Union Council</td>
                                <td class="text" width="25%">@(item.UCNumber == null || item.UCNumber == "" ? "--" : item.UCNumber)</td>

                                <td class="title" width="25%">TEHSIL</td>
                                <td class="text" width="35%">@(item.Tehsil == null || item.Tehsil == "" ? "--" : item.Tehsil)</td>
                            </tr>
                            <tr>
                                <td class="title">DISTRICT</td>
                                <td class="text">@(item.District == null || item.District == "" ? "--" : item.District)</td>

                                <td class="title">PROVINCE</td>
                                <td class="text">@(item.Province == null || item.Province == "" ? "--" : item.Province)</td>
                            </tr>
                            <tr>
                                <td class="title">RELATION WITH APPLICANT</td>
                                <td class="text">@(item.RealtionshipWithApplicant == null || item.RealtionshipWithApplicant == "" ? "--" : item.RealtionshipWithApplicant)</td>

                                <td class="title">MOBILE Number</td>
                                <td class="text">@(item.MobileNumber == null || item.MobileNumber == "" ? "--" : item.MobileNumber)</td>
                            </tr>

                            <tr>
                                <td class="title">BUSINESS NAME</td>
                                <td class="text">@(item.BusinessName == null || item.BusinessName == "" ? "--" : item.BusinessName)</td>

                                <td class="title">BUSINESS ADDRESS</td>
                                <td class="text">@(item.BusinessAddress == null || item.BusinessAddress == "" ? "--" : item.BusinessAddress)</td>
                            </tr>
                            <tr>
                                <td class="title">
                                    Credit Bureau Check
                                </td>
                                @if (item.CreditBureauCheck == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.CreditBureauCheck == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.CreditBureauCheck == true)
                                {
                                    <td class="text">YES</td>
                                }

                                <td class="title">
                                    Credit Bureau Status
                                </td>
                                <td class="text">@(item.CreditBureauStatusName == null || item.CreditBureauStatusName == "" ? "--" : item.CreditBureauStatusName)</td>
                            </tr>
                            <tr>
                                <td class="title">
                                    AML/CFT Check
                                </td>
                                @if (item.AmlCftCheck == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.AmlCftCheck == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.AmlCftCheck == true)
                                {
                                    <td class="text">YES</td>
                                }

                                <td class="title">
                                    AML/CFT Clearance
                                </td>
                                @if (item.AmlCftClearance == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.AmlCftClearance == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.AmlCftClearance == true)
                                {
                                    <td class="text">YES</td>
                                }
                            </tr>

                            <tr>
                                <td class="title">
                                    Have you guaranteed loan from any FI
                                </td>
                                @if (item.guaranteedLoanFI == null)
                                {
                                    <td class="text">N/A</td>
                                }
                                else if (item.guaranteedLoanFI == false)
                                {
                                    <td class="text">No</td>
                                }
                                else if (item.guaranteedLoanFI == true)
                                {
                                    <td class="text">YES</td>
                                }

                                <td class="title">
                                    Guarantee Amount
                                </td>
                                <td class="text">@(item.guaranteedAmount == null || item.guaranteedAmount == "" || item.guaranteedAmount == "0" ? "--" : Convert.ToDecimal(item.guaranteedAmount).ToString("#,###"))</td>
                            </tr>
                            <tr>
                                <td class="title">PROFESSION</td>
                                <td class="text">@(item.Profession == null || item.Profession == "" ? "--" : item.Profession)</td>

                                <td class="title">EMPLOYER NAME</td>
                                <td class="text">@(item.EmployerName == null || item.EmployerName == "" ? "--" : item.EmployerName)</td>
                            </tr>
                            <tr>
                                <td class="title">MONTHLY INCOME</td>
                                <td class="text">@(item.MonthlyIncome == null || item.MonthlyIncome == "" ? "--" : Convert.ToDecimal(item.MonthlyIncome).ToString("#,##0"))</td>

                                <td class="title">NET MONTHLY INCOME AVAILABLE FOR INSTALLMENT PAYMENT (Rs)</td>
                                <td class="text">@(item.IncomeAvailableForInstallment == null || item.IncomeAvailableForInstallment == "" ? "--" : Convert.ToDecimal(item.IncomeAvailableForInstallment).ToString("#,##0"))</td>
                            </tr>

                            <tr>
                                <td colspan="4" class="title text-center bg-gray"></td>
                            </tr>

                        }


                    }
                </tbody>

            </table>

        }
        @if (ViewBag.RD.Count > 0 != null)
        {

            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="4">Reference DETAILS</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.RD != null)
                    {

                        @foreach (var item in ViewBag.RD)
                        {

                            <tr>
                                <td class="title" width="30%">FULL NAME</td>
                                <td class="text" width="25%">@(item.FullName == null || item.FullName == "" ? "--" : item.FullName)</td>

                                <td class="title" width="25%">PRESENT ADDRESS</td>
                                <td class="text" width="20%">@(item.PresentAddress == null || item.PresentAddress == "" ? "--" : item.PresentAddress)</td>

                            </tr>
                            <tr>
                                <td class="title">MOBILE / Phone Number</td>
                                <td class="text">@(item.MobileNumber == null || item.MobileNumber == "" ? "--" : item.MobileNumber)</td>
                                <td class="title">KNOW APPLICANT SINCE</td>
                                <td class="text">@string.Format("{0:dd MMM yyyy}", DateTime.Parse(item.KnowApplicantSince))</td>
                            </tr>

                            <tr>
                                <td class="title">RELATION WITH APPLICANT</td>
                                <td class="text">@(item.RelationshipWithApplicantName == null || item.RelationshipWithApplicantName == "" ? "--" : item.RelationshipWithApplicantName)</td>

                                <td class="title">Others</td>
                                <td class="text">@(item.RelationshipWithApplicantOthers == null || item.RelationshipWithApplicantOthers == "" ? "--" : item.RelationshipWithApplicantOthers)</td>
                            </tr>

                            <tr>
                                <td class="title">BUSINESS NAME</td>
                                <td class="text">@(item.BusinessName == null || item.BusinessName == "" ? "--" : item.BusinessName)</td>

                                <td class="title">COMMENTS</td>
                                <td class="text">@(item.Comments == null || item.Comments == "" ? "--" : item.Comments)</td>
                            </tr>

                            <tr>
                                <td colspan="4" class="title text-center bg-gray"></td>
                            </tr>

                        }


                    }
                </tbody>

            </table>
        }
        @if (ViewBag.SDE != null)
        {
            <table border="1" width="100%" class="tbl">
                <thead>
                    <tr>
                        <th class="title text-center bg-gray ScreenTitle" colspan="6">SDE RECOMMENDATIONS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="title" width="30%">APPLICANT’S REPUTATION</td>
                        <td class="text" width="25%">@(ViewBag.SDE.applicantReputationName == null || ViewBag.SDE.applicantReputationName == "" ? "--" : ViewBag.SDE.applicantReputationName)</td>

                        <td class="title" width="25%">IF DOUBTFUL, COMMENT</td>
                        <td class="text" width="20%">@(ViewBag.SDE.DoubtfulComment == null || ViewBag.SDE.DoubtfulComment == "" ? "--" : ViewBag.SDE.DoubtfulComment)</td>
                    </tr>
                    <tr>
                        <td class="title">UTILITY BILL PAYMENT</td>
                        <td class="text">@(ViewBag.SDE.utilityName == null || ViewBag.SDE.utilityName == "" ? "--" : ViewBag.SDE.utilityName)</td>

                        <td class="title">Number OF DELAYS DURRING LAST 1 YEAR</td>
                        <td class="text">@(ViewBag.SDE.Delayed == 0 ? "--" : ViewBag.SDE.Delayed.ToString())</td>
                    </tr>
                    <tr>
                        <td class="title">REFERENCE CHECK</td>
                        <td class="text">@(ViewBag.SDE.referenceCheckName == null || ViewBag.SDE.referenceCheckName == "" ? "--" : ViewBag.SDE.referenceCheckName)</td>

                        <td class="title">RECOMMENDED LOAN AMOUNT</td>
                        <td class="text">@(ViewBag.SDE.RecommendedLoanAmount == 0  ? "--" : string.Format("{0:#,###}", ViewBag.SDE.RecommendedLoanAmount))</td>
                    </tr>
                    <tr>
                        <td class="title">RECOMMENDED TENURE</td>
                        <td class="text">@(ViewBag.SDE.RecommendedTenure == null || ViewBag.SDE.RecommendedTenure == "" ? "--" : ViewBag.SDE.RecommendedTenure)</td>

                        <td class="title">RECOMMENDED GRACE PERIOD</td>
                        <td class="text">@(ViewBag.SDE.RecommendedGracePeriod == null || ViewBag.SDE.RecommendedGracePeriod == "" ? "--" : ViewBag.SDE.RecommendedGracePeriod)</td>
                    </tr>
                    <tr>
                        <td class="title">UTILIZATION OF LOAN</td>
                        <td class="text">@(ViewBag.SDE.UtilizationOfLoan == null || ViewBag.SDE.UtilizationOfLoan == "" ? "--" : ViewBag.SDE.UtilizationOfLoan)</td>

                        <td class="title">COMMENTS</td>
                        <td class="text">@(ViewBag.SDE.ObservationComment == null || ViewBag.SDE.ObservationComment == "" ? "--" : ViewBag.SDE.ObservationComment)</td>
                    </tr>
                </tbody>
            </table>
        }
        @if (ViewBag.UD != null)
        {

        }

        <table border="1" width="100%" class="tbl affirmation">
            <thead>
                <tr>
                    <th class="title bg-gray text-center ScreenTitle" colspan="2">Affirmations</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="3%" style="text-align:center">1</td>
                    <td>
                        I / We confirm that the information supplied in this form is correct to the best of my / our knowledge. I / We further undertake to inform TFCL of any changes in the information provided in this form and in the related documents.</li>
                    </td>
                </tr>
                <tr>
                    <td style="text-align:center">2</td>
                    <td>
                        I  have fully understood all terms and conditions of the loan and affirm here to comply with the same.
                    </td>
                </tr>
                <tr>
                    <td style="text-align:center">3</td>
                    <td>
                        I declare that neither I am currently involved nor I will get involved in future in any of the professions or activities described in "Exclusion List" of TFCL or any illegal activity as per laws and regulations of Pakistan.
                    </td>
                </tr>
                <tr>
                    <td style="text-align:center">4</td>
                    <td>
                        I am aware that TFCL will charge a fine of Rs. __________ + FED per day for  delay in repayment of loan / instalment after due date.
                    </td>
                </tr>

                <tr> <td style="text-align:center">5</td><td>I authorize TFCL to share my personal data with  those who provide services to TFCL under non-disclosure agreement with such service providers.</td></tr>
                <tr> <td style="text-align:center">6</td><td>TFCL shall have the right to share any information related to my personal data with Credit Bureaus any other related department, agency &/or authority under binding laws without my permission.</td></tr>
                <tr> <td style="text-align:center">7</td><td>I am aware that the loan restructuring / rescheduling can be done as per applicable policy of TFCL on specific and special reasons investigated by TFCL. I am also aware that the reporting in eCIB will remain as per prudential regulations.</td></tr>
                <tr> <td style="text-align:center">8</td><td>Post dated cheques provided by me/us can be presented in case of delayed repayment and TFCL reserves the right to take legal recourse in case any cheque is dishonoured.</td></tr>
            </tbody>
        </table>

        <table border="0" width="100%" class="tbl" style="margin-top:100px">
            <tr>
                <td width="50%" style="text-align:center"><span class="signArea">@ViewBag.Application.ClientName (Applicant)</span></td>
                <td width="50%" class="text-uppercase text-center"><span class="signArea" style="width:30%">Branch Manager</span></td>
            </tr>
        </table>
        <table border="0" width="100%" class="tbl" style="margin-top:100px">
            @if (ViewBag.GD != null)
            {
                <tr>
                    @foreach (var item in ViewBag.GD)
                    {
                        <td class="text-center"><span class="signArea">@(item.FullName == null || item.FullName == "" ? "--" : item.FullName+" (Guarantor)")</span></td>
                    }
                </tr>
            }
        </table>
        <table border="0" width="100%" class="tbl" style="margin-top:100px">
            @if (ViewBag.CoD != null)
            {
                <tr>
                    @foreach (var item in ViewBag.CoD)
                    {
                        <td class="text-center">
                            <span class="signArea">
                                @(item.FullName == null || item.FullName == "" ? "--" : item.FullName) (Co-Applicant)
                            </span>
                        </td>
                    }
                </tr>
            }
        </table>
    </div>

    @*<footer>
            <div class="row">
                <div class="col-md-12 text-center">
                    This is the text that goes at the bottom of every page.
                </tr>
            </tr>
        </footer>*@
    @*<script src="https://unpkg.com/pagedjs/dist/paged.polyfill.js"></script>*@

    <script>
        $(function () {
            //$('#printablediv').kinziPrint({
            //    header: "",
            //    footer: "<td>test</td>",
            //    importCSS: true,
            //    importStyle: false,
            //    loadCSS: 'padding-bottom:50px'
            //});
        });
    </script>
</body>
</html>
